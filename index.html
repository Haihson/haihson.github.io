<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Haihson&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="学习总结 思考感悟 知识管理">
<meta property="og:type" content="website">
<meta property="og:title" content="Haihson's Blog">
<meta property="og:url" content="http://haihson.github.io/index.html">
<meta property="og:site_name" content="Haihson's Blog">
<meta property="og:description" content="学习总结 思考感悟 知识管理">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Haihson's Blog">
<meta name="twitter:description" content="学习总结 思考感悟 知识管理">
  
    <link rel="alternative" href="/atom.xml" title="Haihson&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="http://o73el5cs1.bkt.clouddn.com/7833658.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://o73el5cs1.bkt.clouddn.com/20160514114829.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Haihson</a></h1>
		</hgroup>

		
		<p class="header-subtitle">mmmmmmm香蕉</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>主菜单</li>
						<li>云标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/Haihson" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="#" title="rss">rss</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/BeautifulSoup/" style="font-size: 10px;">BeautifulSoup</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/apache/" style="font-size: 15px;">apache</a> <a href="/tags/cms/" style="font-size: 10px;">cms</a> <a href="/tags/command/" style="font-size: 10px;">command</a> <a href="/tags/css/" style="font-size: 10px;">css</a> <a href="/tags/grep/" style="font-size: 10px;">grep</a> <a href="/tags/html5/" style="font-size: 15px;">html5</a> <a href="/tags/input/" style="font-size: 10px;">input</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/php/" style="font-size: 15px;">php</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">博主很懒，还没留下什么东西......</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Haihson</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://o73el5cs1.bkt.clouddn.com/20160514114829.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Haihson</h1>
			</hgroup>
			
			<p class="header-subtitle">mmmmmmm香蕉</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Haihson" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-Linux_command_note" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/21/Linux_command_note/" class="article-date">
  	<time datetime="2017-03-21T07:15:19.000Z" itemprop="datePublished">2017-03-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/21/Linux_command_note/">Linux命令大全</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux命令大全"><a href="#Linux命令大全" class="headerlink" title="Linux命令大全"></a>Linux命令大全</h1><h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><h4 id="进入目录-cd-目录名"><a href="#进入目录-cd-目录名" class="headerlink" title="进入目录  cd  目录名"></a>进入目录  cd  目录名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd  /home  	到home</span><br><span class="line">cd  		不带参数，到上一层目录</span><br><span class="line">cd - 	 	切到上一个打开目录</span><br><span class="line">cd ..	 	上一级目录</span><br></pre></td></tr></table></figure>
<h4 id="查看目录或文件-ls-alc-目录-文件"><a href="#查看目录或文件-ls-alc-目录-文件" class="headerlink" title="查看目录或文件  ls  [-alc]  [目录/文件]"></a>查看目录或文件  ls  [-alc]  [目录/文件]</h4><p>格式：ls [选项] [目录或文件]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. ls /home		显示/home目录下的文件与目录（不包含隐藏文件）</span><br><span class="line">2. ls –a /home		显示/home目录下的所有文件与目录（包含隐藏文件）</span><br><span class="line">3. ls –l /home		显示/home目录下的文件与目录的详细信息</span><br><span class="line">4. ls –c /home		显示/home目录下的文件与目录,按修改时间排序</span><br></pre></td></tr></table></figure></p>
<h4 id="查看当前目录下的文件-ll-alc"><a href="#查看当前目录下的文件-ll-alc" class="headerlink" title="查看当前目录下的文件  ll  [-alc]"></a>查看当前目录下的文件  ll  [-alc]</h4><p>选项同 ls ,显示目录或文件属性  lsattr , 格式：lsattr [选项] [目录或文件]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-a 　显示所有文件和目录</span><br><span class="line">-d 　显示，目录名称，而非其内容</span><br><span class="line">-l 　此参数目前没有任何作用</span><br><span class="line">-R 　递归处理，将指定目录下的所有文件及子目录一并处理</span><br><span class="line">-v 　显示文件或目录版本</span><br><span class="line">-V 　显示版本信</span><br></pre></td></tr></table></figure></p>
<h4 id="创建文件-touch-文件名"><a href="#创建文件-touch-文件名" class="headerlink" title="创建文件    touch  文件名"></a>创建文件    touch  文件名</h4><p>格式：touch  [选项]  文件名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">范例：touch  /home/test.txt		在/home目录下创建test文件</span><br></pre></td></tr></table></figure></p>
<h4 id="删除文件-rm-fr-文件名"><a href="#删除文件-rm-fr-文件名" class="headerlink" title="删除文件 rm  [-fr]  文件名"></a>删除文件 rm  [-fr]  文件名</h4><p>格式：rm [选项] 文件名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rm /home/test		删除/home目录下的test文件</span><br><span class="line">-d或--directory 　	直接把欲删除的目录的硬连接数据删成0，删除该目录。 </span><br><span class="line">-f或--force 　	强制删除文件或目录。 </span><br><span class="line">-i或--interactive 　	删除既有文件或目录之前先询问用户。 删除非空目录是需加入</span><br><span class="line">-r或-R或--recursive 　	递归处理，将指定目录下的所有文件及子目录一并处理。 </span><br><span class="line">-v或--verbose 　	显示指令执行过程。</span><br></pre></td></tr></table></figure></p>
<h4 id="文件操作内容"><a href="#文件操作内容" class="headerlink" title="文件操作内容"></a>文件操作内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi 文件 进入vi编辑器</span><br></pre></td></tr></table></figure>
<h4 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat  文件名  		一屏查看文件内容</span><br><span class="line">more 文件名		分页查看文件内容</span><br><span class="line">less 文件名		可控分页查看文件内容  q退出</span><br><span class="line">grep 字符 文件名 	根据字符匹配来查看文件部分内容</span><br></pre></td></tr></table></figure>
<h4 id="创建目录-mkdir-目录名"><a href="#创建目录-mkdir-目录名" class="headerlink" title="创建目录 mkdir  目录名"></a>创建目录 mkdir  目录名</h4><p>格式：mkdir [选项] 目录名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">范例：</span><br><span class="line">1. mkdir /home/workdir    在/home目录下创建workdir目录</span><br><span class="line">2. mkdir –p /home/dir1/dir2   -p指令,如果dir1不存在，先创建dir1</span><br></pre></td></tr></table></figure></p>
<h4 id="修改目录或文件-名-后缀-rename-或-mv"><a href="#修改目录或文件-名-后缀-rename-或-mv" class="headerlink" title="修改目录或文件[名/后缀]  rename  或  mv"></a>修改目录或文件[名/后缀]  rename  或  mv</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.mv aaa.txt bbb.txt  修改单个文件名，把aaa.txt改为bbb.txt</span><br><span class="line">2.rename a.txt b.txt *  修改单个文件</span><br><span class="line">3.rename 批量命名  把test.tar.gz  修改为backup.tar.gz</span><br><span class="line">#  rename  test  backup  *.tar.gz</span><br><span class="line">把200个.html后缀的文件修改为.htm后缀</span><br><span class="line">#  rename  .html  .htm  *      或者   rename  html  htm  *.html</span><br></pre></td></tr></table></figure>
<h4 id="删除目录-rmdir-目录名"><a href="#删除目录-rmdir-目录名" class="headerlink" title="删除目录 rmdir  目录名"></a>删除目录 rmdir  目录名</h4><p>格式：rmdir [选项] 目录名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rmdir /home/workdir   删除/home目录下workdir目录</span><br><span class="line">rmdir不能删除非空目录，删除非空目录使用rm 目录名 -r</span><br></pre></td></tr></table></figure></p>
<h4 id="复制文件或目录-cp-源文件-新目录"><a href="#复制文件或目录-cp-源文件-新目录" class="headerlink" title="复制文件或目录 cp  源文件 新目录"></a>复制文件或目录 cp  源文件 新目录</h4><p>格式：cp [选项] 源文件或目录目标文件或目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. cp /home/test /tmp/		将/home目录下的test文件copy到/tmp目录下</span><br><span class="line">2. cp –r /home/dir1 /tmp/	将/home目录下的dir1目录copy到/tmp目录下</span><br></pre></td></tr></table></figure></p>
<h4 id="移动文件或目录-mv-源文件-目标目录"><a href="#移动文件或目录-mv-源文件-目标目录" class="headerlink" title="移动文件或目录 mv 源文件 目标目录"></a>移动文件或目录 mv 源文件 目标目录</h4><p>格式：mv [选项] 源文件或目录目标文件或目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.mv /home/test /home/test1 将/home目录下的test文件更名为test1</span><br><span class="line">2.mv /home/dir1 /tmp/		将/home目录下dir1目录移动（剪切）到/tmp目录下</span><br></pre></td></tr></table></figure></p>
<h4 id="文件打包-tar-cf-目录-文件"><a href="#文件打包-tar-cf-目录-文件" class="headerlink" title="文件打包  tar  [-cf]  [目录/文件]"></a>文件打包  tar  [-cf]  [目录/文件]</h4><p>格式：tar [选项] 文件或目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">tar -cf all.tar *.jpg</span><br><span class="line">	将所有.jpg的文件打成一个名为all.tar的包。-c是表示产生新的包，-f指定包的文件名</span><br><span class="line">tar -rf all.tar *.gif</span><br><span class="line">　　将所有.gif的文件增加到all.tar的包里面去。-r是表示增加文件的意思</span><br><span class="line">tar -uf all.tar logo.gif</span><br><span class="line">	更新原来tar包all.tar中logo.gif文件，-u是表示更新文件的意思</span><br><span class="line">tar -tf all.tar</span><br><span class="line">	列出all.tar包中所有文件，-t是列出文件的意思</span><br><span class="line">tar -xf all.tar</span><br><span class="line">解出all.tar包中所有文件，-x是解开的意思</span><br><span class="line">-c 建立新的归档文件</span><br><span class="line">-r 向归档文件末尾追加文件</span><br><span class="line">-u 更新文件包里的文件</span><br><span class="line">-t 查看文件包文件</span><br><span class="line">-x 从归档文件中解出文件</span><br><span class="line">-O 将文件解开到标准输出</span><br><span class="line">-v 处理过程中输出相关信息</span><br><span class="line">-f 对普通文件操作</span><br><span class="line">-z 调用gzip来压缩归档文件，与-x联用时调用gzip完成解压缩</span><br><span class="line">-Z 调用compress来压缩归档文件，与-x联用时调用compress完成解压缩</span><br></pre></td></tr></table></figure></p>
<h4 id="gzip压缩"><a href="#gzip压缩" class="headerlink" title="gzip压缩"></a>gzip压缩</h4><p>格式：gzip 选项 文件目录列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-c 压缩结果写入标准输出，原文件保持不变。缺省时gzip将原文件压缩为.gz文件，并删除原文件。</span><br><span class="line">-v 输出处理信息。</span><br><span class="line">-d 解压缩指定文件。</span><br><span class="line">-t 测试压缩文件的完整性。</span><br></pre></td></tr></table></figure></p>
<h4 id="gunzip解压缩"><a href="#gunzip解压缩" class="headerlink" title="gunzip解压缩"></a>gunzip解压缩</h4><p>格式：gzip 选项 文件目录列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-c 将输出写入标准输出，原文件保持不变。缺省时，gunzip将压缩文件变成解压缩文件。</span><br><span class="line">-l 列出压缩文件中的文件而不解压缩。</span><br><span class="line">-r 递归解压缩，深入目录结构中，解压缩命令行变元所指定目录中的所有子目录内的文件。</span><br></pre></td></tr></table></figure></p>
<h4 id="find查找"><a href="#find查找" class="headerlink" title="find查找"></a>find查找</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -name &apos;.?*.out.*&apos; 查找所有以 “.out.”  为名的文件</span><br></pre></td></tr></table></figure>
<h4 id="远程复制文件"><a href="#远程复制文件" class="headerlink" title="远程复制文件"></a>远程复制文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -rv -P22 要复制的文件 root@121.14.195.190:/home</span><br><span class="line">跨机器复制 执行： source /home/2013041511.txt</span><br></pre></td></tr></table></figure>
<h2 id="系统监控"><a href="#系统监控" class="headerlink" title="系统监控"></a>系统监控</h2><h4 id="查看系统参数"><a href="#查看系统参数" class="headerlink" title="查看系统参数"></a>查看系统参数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">查看CPU核数 cat /proc/cpuinfo | grep &quot;cpu cores&quot; | uniq</span><br><span class="line">查看CPU型号 cat /proc/cpuinfo | grep &apos;model name&apos; |uniq</span><br><span class="line">查看内存总数 	cat /proc/meminfo | grep MemTotal</span><br><span class="line">查看硬盘大小 	fdisk -l | grep Disk</span><br></pre></td></tr></table></figure>
<h4 id="进程和端口"><a href="#进程和端口" class="headerlink" title="进程和端口"></a>进程和端口</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">查看所有的进程和端口使用情况：</span><br><span class="line">netstat –apn  or  netstat -tnl</span><br><span class="line"></span><br><span class="line">查看端口被占用情况：</span><br><span class="line">netstat –apn grep 8080 </span><br><span class="line"></span><br><span class="line">端口并发连接：</span><br><span class="line">netstat -n | grep 80 | awk &apos;/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;&apos;</span><br><span class="line"></span><br><span class="line">查看Tomcat进程：</span><br><span class="line">ps -aux | grep tomcat </span><br><span class="line"></span><br><span class="line">查看nginx并发（连接数）进程数：</span><br><span class="line">ps -ef|grep nginx |wc -l  </span><br><span class="line"></span><br><span class="line">查看当网络连接状态中，已建立连接的数量：</span><br><span class="line">netstat -na|grep ESTABLISHED|wc -l  </span><br><span class="line"></span><br><span class="line">查看系统tcp连接中各个状态的连接数</span><br><span class="line">netstat -an | awk &apos;/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;&apos;</span><br><span class="line"></span><br><span class="line">输出每个ip的连接数，以及总的各个状态的连接数。</span><br><span class="line">netstat -n | awk &apos;/^tcp/ &#123;n=split($(NF-1),array,&quot;:&quot;);if(n&lt;=2)++S[array[(1)]];else++S[array[(4)]];++s[$NF];++N&#125; END &#123;for(a in S)&#123;printf(&quot;%-20s %s\n&quot;, a, S[a]);++I&#125;printf(&quot;%-20s %s\n&quot;,&quot;TOTAL_IP&quot;,I);for(a in s) printf(&quot;%-20s %s\n&quot;,a, s[a]);printf(&quot;%-20s %s\n&quot;,&quot;TOTAL_LINK&quot;,N);&#125;&apos;</span><br></pre></td></tr></table></figure>
<h4 id="磁盘管理"><a href="#磁盘管理" class="headerlink" title="磁盘管理"></a>磁盘管理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df -hl 查看磁盘使用情况 </span><br><span class="line">df -hl 查看磁盘剩余空间</span><br><span class="line">df -h 查看每个根路径的分区大小</span><br><span class="line">du -sh [目录名] 返回该目录的大小</span><br><span class="line">du -sm [文件夹] 返回该文件夹总M数</span><br><span class="line">find [文件夹] -type f -print |wc -l    查询目录下的文件数量</span><br></pre></td></tr></table></figure>
<h4 id="文件权限控制"><a href="#文件权限控制" class="headerlink" title="文件权限控制"></a>文件权限控制</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">加权限：</span><br><span class="line">chmod +x tomcat.sh  【-x 表示禁用权限】</span><br><span class="line">chown -R cmge:cmge cmge.zip  【文件权限】</span><br></pre></td></tr></table></figure>
<h2 id="系统配置"><a href="#系统配置" class="headerlink" title="系统配置"></a>系统配置</h2><h4 id="IP配置"><a href="#IP配置" class="headerlink" title="IP配置"></a>IP配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">一般在这个目录下：/etc/sysconfig/network-scripts</span><br><span class="line">通常是：</span><br><span class="line">ifcfg-eth0  网口1</span><br><span class="line">ifcfg-eth1  网口2</span><br><span class="line"></span><br><span class="line">DELL的是：</span><br><span class="line">ifcfg-em1   网口1</span><br><span class="line">ifcfg-em2   网口2</span><br><span class="line">重启网卡: service network restart</span><br><span class="line"></span><br><span class="line">如果ping不通域名</span><br><span class="line">在/etc/resolv.conf</span><br><span class="line">配置nameserver 202.96.128.86 </span><br><span class="line"></span><br><span class="line">特别注意：ONBOOT=&quot;yes&quot;   启动自动连接网络</span><br></pre></td></tr></table></figure>
<h4 id="ssh登录编码设置"><a href="#ssh登录编码设置" class="headerlink" title="ssh登录编码设置"></a>ssh登录编码设置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/i18n  打开文件，输入以下内容</span><br><span class="line">--------------------------------------------------------</span><br><span class="line">LANG=&quot;zh_CN.GB18030&quot;</span><br><span class="line">LANGUAGE=&quot;zh_CN.GB18030:zh_CN.GB2312:zh_CN:zh_CN.UTF-8&quot;</span><br><span class="line">SUPPORTED=&quot;zh_CN.UTF-8:zh_CN:zh&quot;</span><br><span class="line">SYSFONT=&quot;lat0-sun16&quot;</span><br><span class="line">SYSFONTACM=&quot;GB18030&quot;</span><br><span class="line">--------------------------------------------------------</span><br></pre></td></tr></table></figure>
<h4 id="编辑快捷命令-环境变量"><a href="#编辑快捷命令-环境变量" class="headerlink" title="编辑快捷命令(环境变量)"></a>编辑快捷命令(环境变量)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">快捷命令存放文件: ~/.bashrc</span><br><span class="line">~表示当前的用户主目录</span><br><span class="line">增加快捷命令: alias 命令，例如：alias  home=’cd /home’</span><br><span class="line"></span><br><span class="line">查看快捷命令: alias</span><br><span class="line"></span><br><span class="line">每次修改.bashrc后，使用source ~/.bashrc（或者 . ~/.bashrc）</span><br></pre></td></tr></table></figure>
<h4 id="Linux安全"><a href="#Linux安全" class="headerlink" title="Linux安全"></a>Linux安全</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ssh   配置文件：/etc/ssh/sshd_config</span><br><span class="line">1、禁止root远程登录 PermitRootLogin no</span><br><span class="line">2、更改ssh默认端口  Port 2002</span><br><span class="line">3、重启: service sshd restart</span><br><span class="line"></span><br><span class="line">iptables   防火墙</span><br><span class="line">Vi  /etc/sysconfig/iptables</span><br><span class="line">修改后台重启</span><br></pre></td></tr></table></figure>
<h4 id="最大文件打开数限制"><a href="#最大文件打开数限制" class="headerlink" title="最大文件打开数限制"></a>最大文件打开数限制</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在系统文件/etc/security/limits.conf中修改这个数量限制，</span><br><span class="line">永久设置：在文件最后加入内容：</span><br><span class="line">* soft nofile 65536 </span><br><span class="line">* hard nofile 65536</span><br><span class="line">临时设置：ulimit -n 2000</span><br></pre></td></tr></table></figure>
<h4 id="同步网络时间"><a href="#同步网络时间" class="headerlink" title="同步网络时间"></a>同步网络时间</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">直接运行 ntpdate pool.ntp.org</span><br><span class="line"></span><br><span class="line">定时器方式</span><br><span class="line">crontab -e  编辑定时器</span><br><span class="line">01 23 * * * ntpdate pool.ntp.org</span><br><span class="line"></span><br><span class="line">crontab -l	  查看定时器</span><br><span class="line">*/1 * * * * /bin/sh /usr/local/sbin/changerOwer.sh    定时执行脚本</span><br></pre></td></tr></table></figure>
<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h4 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd -d 登入目录 -m 用户名</span><br><span class="line">例如：useradd  -d /home/admin -m admin</span><br><span class="line">-m 表示自动创建目录</span><br></pre></td></tr></table></figure>
<h4 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">userdel -f 用户名</span><br><span class="line">例如：userdel -f admin</span><br><span class="line">-f 表示同时删除用户目录</span><br></pre></td></tr></table></figure>
<h4 id="设置口令密码"><a href="#设置口令密码" class="headerlink" title="设置口令密码"></a>设置口令密码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">passwd -u 用户  或 passwd 用户</span><br><span class="line">会提示两次输入密码</span><br></pre></td></tr></table></figure>
<h2 id="Linux安装软件"><a href="#Linux安装软件" class="headerlink" title="Linux安装软件"></a>Linux安装软件</h2><h4 id="安装memcache"><a href="#安装memcache" class="headerlink" title="安装memcache"></a>安装memcache</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">下载libevent:  wget </span><br><span class="line">https://github.com/downloads/libevent/libevent/libevent-2.0.21-stable.tar.gz  </span><br><span class="line"></span><br><span class="line">tar zxf libevent-2.0.21-stable.tar.gz</span><br><span class="line">cd libevent-2.0.21-stable</span><br><span class="line">./configure --prefix=/usr/local/libevent</span><br><span class="line">make &amp;&amp; make install </span><br><span class="line"></span><br><span class="line">wget http://memcached.googlecode.com/files/memcached-1.4.15.tar.gz</span><br><span class="line">tar zxf memcached-1.4.15.tar.gz</span><br><span class="line">cd memcached-1.4.15</span><br><span class="line">./configure --prefix=/usr/local/memcached --with-libevent=/usr/local/libevent </span><br><span class="line">make </span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">启动：</span><br><span class="line">-l 192.168.1.3 固定访问IP</span><br><span class="line">-m 1024 最大分配1G内存</span><br><span class="line">/usr/local/memcached/bin/memcached -u root -p 11211 -d -m 1024 -t 5 -f 1.25</span><br><span class="line">telnet 127.0.0.1 11211</span><br><span class="line">stats</span><br><span class="line">能连接上说明安装成功</span><br></pre></td></tr></table></figure>
<h4 id="安装nginx"><a href="#安装nginx" class="headerlink" title="安装nginx"></a>安装nginx</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">检查是否安装下列库：zlib zlib-devel openssl openssl-devel pcre pcre-devel gcc</span><br><span class="line">yum install zlib zlib-devel openssl openssl-devel pcre pcre-devel</span><br><span class="line">wget http://nginx.org/download/nginx-1.3.15.tar.gz</span><br><span class="line">tar -zxvf nginx-1.3.15.tar.gz</span><br><span class="line">cd nginx-1.3.15</span><br><span class="line">./configure --prefix=/usr/local/nginx --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">启动  ：  ./sbin/nginx</span><br><span class="line">指定配置文件平滑重启:    ./sbin/nginx -c conf/nginx.conf -s reload</span><br><span class="line">配置文件检测:  ./sbin/nginx -t -c conf/nginx.conf</span><br><span class="line"></span><br><span class="line">-c指定配置文件，默认使用配置文件：conf/nginx.conf</span><br></pre></td></tr></table></figure>
<h4 id="安装mongoDB"><a href="#安装mongoDB" class="headerlink" title="安装mongoDB"></a>安装mongoDB</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">Vi /etc/yum.repos.d/10gen.repo</span><br><span class="line">[10gen]</span><br><span class="line">name=10gen Repository</span><br><span class="line">baseurl=http://downloads-distro.mongodb.org/repo/redhat/os/x86_64</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line"></span><br><span class="line">yum install mongo-10gen mongo-10gen-server</span><br><span class="line"></span><br><span class="line">chown –R mongod:mongod /data</span><br><span class="line"></span><br><span class="line">service mongod start</span><br><span class="line"></span><br><span class="line">mongod</span><br><span class="line"></span><br><span class="line">&gt; db.test.save( &#123; a: 1 &#125; )</span><br><span class="line">&gt; db.test.find()</span><br><span class="line"></span><br><span class="line">2</span><br><span class="line">Wget http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.4.1.tgz</span><br><span class="line"></span><br><span class="line">启动</span><br><span class="line">/usr/local/mongodb/bin/mongod --dbpath=/data2/mongodb/data/ --logpath=/data2/mongodb/logs/mongodb.log -logappend &amp;</span><br><span class="line">关闭</span><br><span class="line">/usr/local/mongodb/bin/mongod --dbpath=/data2/mongodb/data/ --logpath=/data2/mongodb/logs/mongodb.log -logappend  --shutdown</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/command/">command</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-MySQL_SQL_Mode" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/20/MySQL_SQL_Mode/" class="article-date">
  	<time datetime="2016-12-20T02:47:20.000Z" itemprop="datePublished">2016-12-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/20/MySQL_SQL_Mode/">MySQL SQL Mode 严格模式问题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="MySQL严格模式下导致的问题"><a href="#MySQL严格模式下导致的问题" class="headerlink" title="MySQL严格模式下导致的问题"></a>MySQL严格模式下导致的问题</h4><p>在本地开发环境跑完项目，是正常OK的；把项目部署到生产环境后，发现项目能正常访问，但是在进行新增操作时，报了数据库表插入时的错误：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1364 (HY000): Field &apos;数据库字段&apos; doesn&apos;t have a default value INSERT INTO 表</span><br></pre></td></tr></table></figure>
<p>刚开始觉得很奇怪，因为开发环境和生成环境用的MySQL、Apache都是同样的版本，很纳闷…..</p>
<p>这时去查看报错日志，找到报错那个位置的代码，没发现有什么异常，然后再回首来看报出的错，意思是说字段没有默认值，也去搜索了这方面的问题，发现是MySQL数据库配置的严格模式问题，我本地环境的MySQL开启的非严格模式，生产环境开启是严格模式，MySQL模式配置说明 <a href="http://dev.mysql.com/doc/refman/5.7/en/sql-mode.html" target="_blank" rel="external">传送门</a></p>
<p>如何开启、关闭MySQL严格模式，找到MySQL的配置文件路径</p>
<ul>
<li>linux 下 vim /etc/my.cnf</li>
<li>windows 下 安装路径的my.ini/my.cnf</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES 严格模式</span><br><span class="line"></span><br><span class="line">sql_mode=&quot;&quot; 非严格模式</span><br></pre></td></tr></table></figure>
<p>然后重启MySQL服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">For CentOS 7 servers:</span><br><span class="line">systemctl restart mysql</span><br><span class="line"></span><br><span class="line">For CentOS 6 and prior:</span><br><span class="line">/etc/init.d/mysql restart</span><br><span class="line"></span><br><span class="line">For Windows</span><br><span class="line">net stop MySQL   </span><br><span class="line">net start MySQL</span><br></pre></td></tr></table></figure></p>
<p>这样就解决问题了。</p>
<p>No 这样的做法是可以解决这个情况，但不是很好的做法，MySQL严格模式可以使数据更加安全严格，减少了对空数据入库。可以提高代码的质量及对数据的严谨性，所以建议在开发环境就开启严格模式，代码中在进行数据表操作时改默认的写默认，数据库表设计时要默认的写默认。</p>
<p>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `mytable` (</span><br><span class="line"> `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line"> `title` varchar(20) NOT NULL,</span><br><span class="line"> `content` text NOT NULL,</span><br><span class="line"> PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br></pre></td></tr></table></figure></p>
<p>插入一条记录，title 的值为 NULL</p>
<p>非严格模式下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into table(content) values(&apos;value&apos;);</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from mytable;</span><br><span class="line">+----+------+------------+</span><br><span class="line">| id | title | content    |</span><br><span class="line">+----+------+------------+</span><br><span class="line">|  1 |       | programmer |</span><br><span class="line">+----+-------+------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure></p>
<p>严格模式下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into table(content) values(&apos;value&apos;);</span><br><span class="line">ERROR 1364 (HY000): Field &apos;title&apos; doesn&apos;t have a default value</span><br></pre></td></tr></table></figure></p>
<p>所以我最后的做法是在代码中更改了操作数据库表的SQL写上默认值。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/MySQL/">MySQL</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-linux_mysql" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/16/linux_mysql/" class="article-date">
  	<time datetime="2016-12-16T08:52:29.000Z" itemprop="datePublished">2016-12-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/16/linux_mysql/">Linux MySQL mysql.sock 问题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux-使用MySQL命令的-mysql-sock-问题"><a href="#Linux-使用MySQL命令的-mysql-sock-问题" class="headerlink" title="Linux 使用MySQL命令的 mysql.sock 问题"></a>Linux 使用MySQL命令的 mysql.sock 问题</h1><p>在服务器上使用mysql命令报错：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 2002 (HY000): Can&apos;t connect to local MySQL server through socket &apos;/tmp/mysql.sock&apos; (2)</span><br></pre></td></tr></table></figure>
<p>停止、启动MySQL都是正常的，数据库也是在正常运行中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@banana bin]# /etc/init.d/mysqld stop</span><br><span class="line"> Shutting down MySQL....                                    [  OK  ]</span><br><span class="line">[root@banana bin]# /etc/init.d/mysqld start</span><br><span class="line"> Starting MySQL/data/mysql/data</span><br><span class="line"> ..                                                         [  OK  ]</span><br><span class="line"> </span><br><span class="line">[root@banana data]# /etc/init.d/mysqld status</span><br><span class="line"> MySQL running (6557)                                       [  OK  ]</span><br></pre></td></tr></table></figure>
<p>这时想着查看一下数据库进程信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@banana bin]# ps -ef | grep mysql</span><br><span class="line">root      1973     1  0 Nov24 ?        00:00:00 /bin/sh /usr/local/mysql/bin/mysqld_safe --defaults-file=/etc/my.cnf --datadir=/data/mysql/data --pid-file=/data/mysql/data/banana.pid</span><br><span class="line">mysql     2815  1973  0 Nov24 ?        01:59:56 /usr/local/mysql/bin/mysqld --defaults-file=/etc/my.cnf --basedir=/usr/local/mysql --datadir=/data/mysql/data --plugin-dir=/usr/local/mysql/lib/plugin --user=mysql --log-error=/data_big/mysql/data/banana.err --open-files-limit=8192 --pid-file=/data_big/mysql/data/banana.pid --socket=/data/mysql/data/mysql.sock --port=3306</span><br><span class="line">root      5644  4460  0 14:05 pts/2    00:00:00 grep --color=auto mysql</span><br></pre></td></tr></table></figure></p>
<p>发现 /data/mysql/data/mysql.sock 这里存在一个 mysql.sock 文件，/etc/my.cnf这个配置文件里面 socket 也是填写的这个路径，但运行命令就是提示 /tmp/mysql.sock 不能连接，这时 cd 到 /tmp这个文件夹下面查看，的确没有mysql.sock这个文件，搜索了一下这个文件，了解到mysql.sock的作用是server和client在同一台服务器，并且使用localhost进行链接的时候，就会使用socket来进行连接——仅此而已</p>
<p>网上也有人在讨论这个 mysql.sock 文件丢失的问题， 有说 重启服务器， 重启mysql数据库， mysql.sock 会自动生成， 我试过但都木有用</p>
<p>既然tmp/下面木有这个文件， /data/mysql/data/下面有，直接建立软连接好了，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /data/mysql/data/mysql .sock   /tmp/mysql .sock</span><br></pre></td></tr></table></figure></p>
<p>再次运行MySQL命令，就可以正常使用了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-linux_grep" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/05/linux_grep/" class="article-date">
  	<time datetime="2016-12-05T09:19:19.000Z" itemprop="datePublished">2016-12-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/05/linux_grep/">Linux grep 命令</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux-grep-命令"><a href="#Linux-grep-命令" class="headerlink" title="Linux grep 命令"></a>Linux grep 命令</h1><h4 id="如果想在Linux下查找和过滤文本文件内容，那么就得用grep这个命令。最简单的用法是："><a href="#如果想在Linux下查找和过滤文本文件内容，那么就得用grep这个命令。最简单的用法是：" class="headerlink" title="如果想在Linux下查找和过滤文本文件内容，那么就得用grep这个命令。最简单的用法是："></a>如果想在Linux下查找和过滤文本文件内容，那么就得用grep这个命令。最简单的用法是：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep apple fruitlist.txt</span><br></pre></td></tr></table></figure>
<p>如果想忽略大小写，可以用-i参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -i apple fruitlist.txt</span><br></pre></td></tr></table></figure></p>
<p>如果想搜索目录里所有文件，包括子目录的话，并且在结果中显示行号，可以用以下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -nr apple *</span><br></pre></td></tr></table></figure></p>
<p>grep的语法支持正则表达式，正则表达式有些复杂，以后再讲解。下面是一些有用的参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-A num, --after-context=num: 在结果中同时输出匹配行之后的num行</span><br><span class="line">-B num, --before-context=num: 在结果中同时输出匹配行之前的num行，有时候我们需要显示几行上下文。</span><br><span class="line">-i, --ignore-case: 忽略大小写</span><br><span class="line">-n, --line-number: 显示行号</span><br><span class="line">-R, -r, --recursive: 递归搜索子目录</span><br><span class="line">-v, --invert-match: 输出没有匹配的行</span><br></pre></td></tr></table></figure></p>
<p>我们可以通过管道操作来让grep变得更强大，管道操作就是把前面一条命令的输出作为后面一条命令的输入，从而把很多简单的命令组合起来完成复杂的功能。</p>
<p>例如，如果我们想查找包含apple的行，但又想过滤掉pineapple，可以用下面的命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep apple fruitlist.txt | grep -v pineapple</span><br></pre></td></tr></table></figure>
<p>如果我们想把搜索结果保存起来，那么可以把命令的标准输出重定向到文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep apple fruitlist.txt | grep -v pineapple &gt; apples.txt</span><br></pre></td></tr></table></figure></p>
<p>重定向符号&gt;和管道操作符号|的区别是，重定向后面接的是一个文件，它后面不能再接任何文件或命令了；而管道操作后面接的是命令，可以无限地接下去。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/grep/">grep</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-histroy_back_js_flush" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/10/13/histroy_back_js_flush/" class="article-date">
  	<time datetime="2016-10-13T10:19:19.000Z" itemprop="datePublished">2016-10-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/10/13/histroy_back_js_flush/">浏览器后退上一级页面中JS执行问题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h5 id="在项目中，页面中如果后退-history-back-至上一级页面，上一级页面的JS会执行，结果发现，这里存在一个兼容性的问题，Chrome-Firefox-移动端webview中使用-history-back-或者-history-go-1-都是可以的，但在iphone-ipad-mac中-safari-却不行。"><a href="#在项目中，页面中如果后退-history-back-至上一级页面，上一级页面的JS会执行，结果发现，这里存在一个兼容性的问题，Chrome-Firefox-移动端webview中使用-history-back-或者-history-go-1-都是可以的，但在iphone-ipad-mac中-safari-却不行。" class="headerlink" title="在项目中，页面中如果后退 history.back() 至上一级页面，上一级页面的JS会执行，结果发现，这里存在一个兼容性的问题，Chrome Firefox 移动端webview中使用 history.back() 或者 history.go(-1) 都是可以的，但在iphone ipad mac中 safari 却不行。"></a>在项目中，页面中如果后退 history.back() 至上一级页面，上一级页面的JS会执行，结果发现，这里存在一个兼容性的问题，Chrome Firefox 移动端webview中使用 history.back() 或者 history.go(-1) 都是可以的，但在iphone ipad mac中 safari 却不行。</h5><p>解决办法，用以下进行后退即可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.document.referrer</span><br></pre></td></tr></table></figure></p>
<p>具体写法也可针对性写</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (/(iPhone|iPad|iPod)/i.test(navigator.userAgent)) &#123;             </span><br><span class="line">     window.location.href = window.document.referrer;</span><br><span class="line">&#125; else &#123; </span><br><span class="line">	 window.history.go(&quot;-1&quot;); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>document.referrer 文档的相关说明 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/referrer" target="_blank" rel="external">传送门</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html5/">html5</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/js/">js</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/CSS/">CSS</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-python_BeautifulSoup" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/22/python_BeautifulSoup/" class="article-date">
  	<time datetime="2016-06-22T07:52:12.000Z" itemprop="datePublished">2016-06-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/22/python_BeautifulSoup/">Python 爬虫第一弹</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h5 id="Python-爬虫初练-—-第一篇"><a href="#Python-爬虫初练-—-第一篇" class="headerlink" title="Python 爬虫初练 — 第一篇"></a>Python 爬虫初练 — 第一篇</h5><p>日前想爬取某些网站的数据，发现使用 Python 会更加方便快捷一些，so 写了一个小示例，用 <a href="http://beautifulsoup.readthedocs.io/zh_CN/latest" target="_blank" rel="external">Beautiful Soup 4.4.0 使用文档</a>  这个库来处理请求来的页面数据，re 库来正则匹配需要的数据，最后把提取的数据存储到数据库。</p>
<p>示例如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"># coding=utf-8</span><br><span class="line">import requests</span><br><span class="line">import MySQLdb, re</span><br><span class="line">from bs4 import BeautifulSoup</span><br><span class="line"></span><br><span class="line">url = &apos;http://www.qccr.com/list_lt/sub_c1_s25_o0_d1/&apos;</span><br><span class="line">user_agent = &apos;Mozilla/5.0 (Windows NT 6.3; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.110 Safari/537.36&apos;</span><br><span class="line">headers = &#123;&apos;User-Agent&apos;: user_agent&#125;</span><br><span class="line"></span><br><span class="line">print &apos;-----------初始化参数------------&apos;</span><br><span class="line">response = requests.get(url, headers=headers)</span><br><span class="line">content = response.text</span><br><span class="line">soup = BeautifulSoup(content, &apos;html.parser&apos;)</span><br><span class="line">print soup.title.string</span><br><span class="line"></span><br><span class="line">rootHtml = soup.find(id=&quot;newResult&quot;)</span><br><span class="line">htmlCar = rootHtml.find(&quot;div&quot;, &#123;&quot;class&quot;: &quot;thislist&quot;&#125;).ul</span><br><span class="line">pager = rootHtml.find(id=&quot;div_pager&quot;)</span><br><span class="line">currtPage = int(pager.find(&quot;span&quot;, &#123;&quot;class&quot;: &quot;curr&quot;&#125;).string)</span><br><span class="line">pageObj = pager.find(&quot;span&quot;, &#123;&quot;class&quot;: &quot;normalsize&quot;&#125;).string</span><br><span class="line">pageList = re.findall(r&apos;\d+&apos;, pageObj)</span><br><span class="line">pageNum = int(pageList[0]) + 1</span><br><span class="line">allCount = int(pageList[1])</span><br><span class="line"></span><br><span class="line">print &apos;-----------开始爬数据------------&apos;</span><br><span class="line">db = MySQLdb.connect(host=&apos;localhost&apos;, user=&apos;root&apos;, passwd=&apos;password&apos;, db=&apos;qccar&apos;, use_unicode=True, charset=&apos;UTF8&apos;)</span><br><span class="line">cur = db.cursor()</span><br><span class="line">for index in range(currtPage, pageNum):</span><br><span class="line">    url = &apos;http://www.qccr.com/list_lt/sub_c%s_s25_o0_d1/&apos; % index</span><br><span class="line">    response = requests.get(url, headers=headers)</span><br><span class="line">    content = response.text</span><br><span class="line">    soup = BeautifulSoup(content, &apos;html.parser&apos;)</span><br><span class="line">    rootHtml = soup.find(id=&quot;newResult&quot;)</span><br><span class="line">    htmlCar = rootHtml.find(&quot;div&quot;, &#123;&quot;class&quot;: &quot;thislist&quot;&#125;).ul</span><br><span class="line">    print &apos;-----------开始爬取第%d页------------&apos; % index</span><br><span class="line">    itemCount = 0</span><br><span class="line">    for link in htmlCar.find_all(&apos;li&apos;):</span><br><span class="line">        gid = link[&apos;gid&apos;]</span><br><span class="line">        name = link.a.find(&quot;p&quot;, &#123;&quot;class&quot;: &quot;name&quot;&#125;).string</span><br><span class="line">        iconUrl = link.a.img[&apos;data-original&apos;]</span><br><span class="line">        price = link.a.find(&quot;p&quot;, &#123;&quot;class&quot;: &quot;price&quot;&#125;).span</span><br><span class="line">        priceType = price.find(&quot;b&quot;, &#123;&quot;class&quot;: &quot;pmoney&quot;&#125;).string</span><br><span class="line">        priceNum = price.contents[1]</span><br><span class="line">        other = link.a.find(&quot;p&quot;, &#123;&quot;class&quot;: &quot;other&quot;&#125;)</span><br><span class="line">        saleNum = other.find(&quot;span&quot;, &#123;&quot;class&quot;: &quot;saleNum&quot;&#125;).string</span><br><span class="line">        appraise = other.find(&quot;span&quot;, &#123;&quot;class&quot;: &quot;appraise&quot;&#125;).string</span><br><span class="line">        itemCount += 1</span><br><span class="line">        print &apos;第%d页 第%d条获取完毕......&apos; % (index, itemCount)</span><br><span class="line">        cur.execute(</span><br><span class="line">            &quot;INSERT INTO sp_tyre (gid, title, icon_url, price_type, price_num, sale_num, appraise) VALUES (%s,%s,%s,%s,%s,%s,%s)&quot;,</span><br><span class="line">            (gid, name.encode(&quot;utf8&quot;), iconUrl, priceType.encode(&quot;utf8&quot;), priceNum, saleNum, appraise))</span><br><span class="line">        # print &quot;%s           %s %s   %s  %s&quot; % (name, priceType, priceNum, saleNum, appraise)</span><br><span class="line">    print &apos;-----------第%d页爬取完毕------------&apos; % index</span><br><span class="line">db.commit()</span><br><span class="line">cur.close()</span><br><span class="line">db.close()</span><br><span class="line">print &apos;数据已全部爬取完毕：总共 %d 页，%d 条&apos; % (pageNum - 1, allCount)</span><br></pre></td></tr></table></figure></p>
<p>数据库SQL：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">DROP TABLE IF EXISTS `sp_tyre`;</span><br><span class="line">/*!40101 SET @saved_cs_client     = @@character_set_client */;</span><br><span class="line">/*!40101 SET character_set_client = utf8 */;</span><br><span class="line">CREATE TABLE `sp_tyre` (</span><br><span class="line">  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT &apos;Id&apos;,</span><br><span class="line">  `gid` int(11) DEFAULT NULL COMMENT &apos;ID标识&apos;,</span><br><span class="line">  `title` varchar(255) DEFAULT NULL COMMENT &apos;名字&apos;,</span><br><span class="line">  `icon_url` varchar(255) DEFAULT NULL COMMENT &apos;商品图片URL&apos;,</span><br><span class="line">  `price_type` varchar(10) DEFAULT NULL COMMENT &apos;货币类型&apos;,</span><br><span class="line">  `price_num` decimal(10,2) DEFAULT NULL,&apos;价格&apos;</span><br><span class="line">  `sale_num` int(11) DEFAULT NULL COMMENT &apos;已售数&apos;,</span><br><span class="line">  `appraise` int(11) DEFAULT NULL COMMENT &apos;评价数&apos;,</span><br><span class="line">  PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB AUTO_INCREMENT=759 DEFAULT CHARSET=utf8;</span><br><span class="line">/*!40101 SET character_set_client = @saved_cs_client */;</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BeautifulSoup/">BeautifulSoup</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/">Python</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Python/">Python</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-css_input" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/30/css_input/" class="article-date">
  	<time datetime="2016-05-30T09:19:19.000Z" itemprop="datePublished">2016-05-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/30/css_input/">css_input 光标显示问题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h5 id="在项目中，页面中的input框，在手机端输入时-触发焦点时光标的高度和input框的高度是一样的，输入内容后光标高度从input顶部到文字底部，然后删掉输入的内容，光标高度还是从input顶部到文字底部。"><a href="#在项目中，页面中的input框，在手机端输入时-触发焦点时光标的高度和input框的高度是一样的，输入内容后光标高度从input顶部到文字底部，然后删掉输入的内容，光标高度还是从input顶部到文字底部。" class="headerlink" title="在项目中，页面中的input框，在手机端输入时 触发焦点时光标的高度和input框的高度是一样的，输入内容后光标高度从input顶部到文字底部，然后删掉输入的内容，光标高度还是从input顶部到文字底部。"></a>在项目中，页面中的input框，在手机端输入时 触发焦点时光标的高度和input框的高度是一样的，输入内容后光标高度从input顶部到文字底部，然后删掉输入的内容，光标高度还是从input顶部到文字底部。</h5><p>input内容为空时：</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160530165328.png" alt="input内容为空时"></p>
<p>输入内容后：</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160530165312.png" alt="input内容为空时"></p>
<p>input部分的 CSS 所写如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">border: none;</span><br><span class="line">font-size: 1.4rem;</span><br><span class="line">height: 2.8rem;</span><br><span class="line">line-height: 2.8rem;</span><br><span class="line">width: 100%;</span><br><span class="line">background: rgba(255, 255, 255, 1);</span><br><span class="line">border-radius: 0.4rem;</span><br><span class="line">text-indent: 2.8rem;</span><br></pre></td></tr></table></figure></p>
<p>解决办法：<br>是由于没有设置padding 以及 font-size和height ling-height 值设置的问题，调整 input 部分的 CSS 写法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">border: none;</span><br><span class="line">font-size: 1.4rem;</span><br><span class="line">height: 1.4rem;</span><br><span class="line">line-height: 1.4rem;</span><br><span class="line">padding: 0.7rem 0;</span><br><span class="line">width: 100%;</span><br><span class="line">background: rgba(255, 255, 255, 1);</span><br><span class="line">border-radius: 0.4rem;</span><br><span class="line">text-indent: 2.8rem;</span><br></pre></td></tr></table></figure>
<p>font-size 和 height line-height 值设置一样，剩余的高度用 padding 去撑开：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">修改前</span><br><span class="line">font-size: 1.4rem;</span><br><span class="line">height: 2.8rem;</span><br><span class="line">line-height: 2.8rem;</span><br><span class="line"></span><br><span class="line">修改后</span><br><span class="line">font-size: 1.4rem;</span><br><span class="line">height: 1.4rem;</span><br><span class="line">line-height: 1.4rem;</span><br><span class="line">padding: 0.7rem 0;</span><br></pre></td></tr></table></figure>
<p>另外在不同的浏览器上 input placeholder 居中可能不一致，可通过设置 line-height 来达到：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">line-height: normal;</span><br></pre></td></tr></table></figure>
<p>解决后的效果：</p>
<p>input内容为空时：</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160530170559.png" alt="input内容为空时"></p>
<p>输入内容后：</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160530170547.png" alt="input内容为空时"></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html5/">html5</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/input/">input</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/CSS/">CSS</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-apache_php_cms" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/19/apache_php_cms/" class="article-date">
  	<time datetime="2016-05-19T03:50:19.000Z" itemprop="datePublished">2016-05-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/19/apache_php_cms/">Apache_PHP_CMS项目运行问题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h5 id="在运行CMS项目的时候，配置的模块访问不了，报404错误，只有首页可以正常访问，查看了项目所有配置，都没有发现问题。经过一番折腾-汗，差不多两天…-，PS：刚开始接触PHP项目，一直以为可能是项目本身的问题，一直在查代码，最后发现最有可能出问题的就是-htaccess-这个文件可能没有被服务器加载，这里要特别感谢一位国外友人回复的邮件给了我提示"><a href="#在运行CMS项目的时候，配置的模块访问不了，报404错误，只有首页可以正常访问，查看了项目所有配置，都没有发现问题。经过一番折腾-汗，差不多两天…-，PS：刚开始接触PHP项目，一直以为可能是项目本身的问题，一直在查代码，最后发现最有可能出问题的就是-htaccess-这个文件可能没有被服务器加载，这里要特别感谢一位国外友人回复的邮件给了我提示" class="headerlink" title="在运行CMS项目的时候，配置的模块访问不了，报404错误，只有首页可以正常访问，查看了项目所有配置，都没有发现问题。经过一番折腾(汗，差不多两天…)，PS：刚开始接触PHP项目，一直以为可能是项目本身的问题，一直在查代码，最后发现最有可能出问题的就是 .htaccess 这个文件可能没有被服务器加载，这里要特别感谢一位国外友人回复的邮件给了我提示"></a>在运行CMS项目的时候，配置的模块访问不了，报404错误，只有首页可以正常访问，查看了项目所有配置，都没有发现问题。经过一番折腾(汗，差不多两天…)，PS：刚开始接触PHP项目，一直以为可能是项目本身的问题，一直在查代码，最后发现最有可能出问题的就是 .htaccess 这个文件可能没有被服务器加载，这里要特别感谢一位国外友人回复的邮件给了我提示</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Hello</span><br><span class="line">Please check if you have in merger/ a file called .htaccess It handles the link rewriting.</span><br><span class="line">If you have it your server might not load it, or you might not have mod_rewrite enabled.</span><br></pre></td></tr></table></figure>
<p>所以搜索了下 Apahce php 关于这个文件的相关问题，果然有收获</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160519111439.png" alt=".htaccess problem"></p>
<p>找到这个问题描述的情况和我出现的问题有很大可能就是这个原因</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160519111544.png" alt=".htaccess problem"></p>
<p>根据以上描述，找到 Apache 模块配置的文档 <a href="http://httpd.apache.org/docs/2.4/mod/core.html#allowoverride" target="_blank" rel="external">传送门</a> </p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160519111630.png" alt=".htaccess Answers"></p>
<p>应该是要在 Apache 的配置文件 httpd.conf 文件中 配置 AllowOverride<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;Directory /&gt;</span><br><span class="line">    AllowOverride All    此处将默认的 none 改为 All</span><br><span class="line">    Require all denied</span><br><span class="line">&lt;/Directory&gt;</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">AllowOverride All        此处将默认的 none 改为 All</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">&lt;Directory &quot;$&#123;SRVROOT&#125;/cgi-bin&quot;&gt;</span><br><span class="line">    AllowOverride All    此处将默认的 none 改为 All</span><br><span class="line">    Options All          此处将默认的 none 改为 All</span><br><span class="line">    Require all granted</span><br><span class="line">&lt;/Directory&gt;</span><br></pre></td></tr></table></figure></p>
<p>然后重启服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpd -k restart</span><br></pre></td></tr></table></figure></p>
<h5 id="解决以上问题后，再运行php项目的时候，发现之前正常的图片相关的功能不能正常使用，上传出错，图片链接也访问不了，查看error-log日志，错误："><a href="#解决以上问题后，再运行php项目的时候，发现之前正常的图片相关的功能不能正常使用，上传出错，图片链接也访问不了，查看error-log日志，错误：" class="headerlink" title="解决以上问题后，再运行php项目的时候，发现之前正常的图片相关的功能不能正常使用，上传出错，图片链接也访问不了，查看error.log日志，错误："></a>解决以上问题后，再运行php项目的时候，发现之前正常的图片相关的功能不能正常使用，上传出错，图片链接也访问不了，查看error.log日志，错误：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Invalid command &apos;Order&apos;, perhaps misspelled or defined by a module not included in the server configuration</span><br></pre></td></tr></table></figure>
<p>搜索了下这个错误，找到出现同样问题的结果：<br><img src="http://o73el5cs1.bkt.clouddn.com/20160519111331.png" alt="error log"></p>
<p>解决如下，原来是需要加载一个模块<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LoadModule access_compat_module modules/mod_access_compat.so  去掉前面的#号</span><br></pre></td></tr></table></figure></p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160519111406.png" alt="Invalid command &#39;Order&#39; Answers"></p>
<p>然后重启服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpd -k restart</span><br></pre></td></tr></table></figure></p>
<p>ok 解决了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apache/">apache</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cms/">cms</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/PHP/">PHP</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-apahce+php" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/12/apahce+php/" class="article-date">
  	<time datetime="2016-05-12T15:28:49.000Z" itemprop="datePublished">2016-05-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/12/apahce+php/">windows Apache+PHP环境搭建</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近下了一个PHP做的项目，需要跑起来研究研究，所以就捣腾起了，刚好记录下过程，方便后续健忘时有需要查阅，也可能对今后有需要的伙伴一个借鉴，好了，废话不多说了，直接上过程。</p>
<p>首先准备好待安装的文件:</p>
<ul>
<li><a href="http://www.apachehaus.com/cgi-bin/download.plx" target="_blank" rel="external">Apache2.4.20</a> </li>
<li><a href="http://windows.php.net/download/" target="_blank" rel="external">PHP5.6.21</a></li>
</ul>
<p>这是我所选择的版本 httpd-2.4.20-x64 、php-5.6.21-Win32-VC11-x64  windwos64位，当然你也可根据自己需要下载对应的版本；</p>
<h4 id="Apache"><a href="#Apache" class="headerlink" title="Apache"></a>Apache</h4><p><img src="http://o73el5cs1.bkt.clouddn.com/20160513095738.png" alt="Apache"><br><img src="http://o73el5cs1.bkt.clouddn.com/20160513095802.png" alt="Apache"></p>
<h4 id="PHP"><a href="#PHP" class="headerlink" title="PHP"></a>PHP</h4><p>下载的 Thread Safe 线程安全的</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160513100502.png" alt="Apache"></p>
<p>到这里，我们先定义下下载下来的安装文件存放路径，以及安装的路径，以下为示例：</p>
<ul>
<li>F:/tmp_file 这个为安装文件的存放目录；</li>
<li>F:/apache24 这个为 Apache2.4.20 所安装的目录；</li>
<li>F:/php5.6.21 这个为 php5.6.21 所安装的目录；</li>
</ul>
<p>现在，如果已全部下载完成，则会得到这两个文件 httpd-2.4.20-x64-vc14-r2.zip 、 php-5.6.21-Win32-VC11-x64.zip</p>
<h3 id="Apahce安装"><a href="#Apahce安装" class="headerlink" title="Apahce安装"></a>Apahce安装</h3><h5 id="解压-httpd-2-4-20-x64-vc14-r2-zip-到-F-apache24"><a href="#解压-httpd-2-4-20-x64-vc14-r2-zip-到-F-apache24" class="headerlink" title="解压 httpd-2.4.20-x64-vc14-r2.zip 到 F:/apache24"></a>解压 httpd-2.4.20-x64-vc14-r2.zip 到 F:/apache24</h5><p>解压完成，然后打开 命令提示符 窗口(注意如果是win8系统，则要以管理员的权限来打开，快捷键为 windows键+x 然后按 a)，切换到 F:/apache24/bin 目录，输入命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpd -k install</span><br></pre></td></tr></table></figure></p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160513101845.png" alt="cmd操作"></p>
<p>此步骤是安装 Apache 服务，这个可在系统服务中查看，新增加了一个名为 Apahce24 的服务，接下来打开 F:/apache24/conf/httpd.conf 这个配置文件，找到如下代码位置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Define SRVROOT &quot;/Apache24&quot; </span><br><span class="line">ServerRoot &quot;$&#123;SRVROOT&#125;&quot;</span><br></pre></td></tr></table></figure>
<p>把这个 “/Apache24” 更改为你安装 Apache 的目录 “F:/Apache24” </p>
<p>默认的端口为80，这里我使用默认端口，如需更改，直接把80换成别的端口号，如8080<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Listen 80</span><br></pre></td></tr></table></figure></p>
<p>好，到这里为止，Apache的配置基本完毕，看下效果，启动Apache，输入命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpd -k start</span><br></pre></td></tr></table></figure></p>
<p>然后在浏览器中输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost</span><br></pre></td></tr></table></figure></p>
<p>即可看见 Apache 的欢迎页面。</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160513102156.png" alt="Apache欢迎"></p>
<h3 id="PHP安装"><a href="#PHP安装" class="headerlink" title="PHP安装"></a>PHP安装</h3><h5 id="解压-php-5-6-21-Win32-VC11-x64-zip-到-F-php5-6-21"><a href="#解压-php-5-6-21-Win32-VC11-x64-zip-到-F-php5-6-21" class="headerlink" title="解压 php-5.6.21-Win32-VC11-x64.zip 到 F:/php5.6.21"></a>解压 php-5.6.21-Win32-VC11-x64.zip 到 F:/php5.6.21</h5><p>解压完成，在目录下有一个 php.ini-production 文件，将其重命名为 php.ini 并打开<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">; extension_dir = &quot;./&quot;</span><br></pre></td></tr></table></figure></p>
<p>修改为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">extension_dir = &quot;F:/php5.6.21/ext&quot;</span><br></pre></td></tr></table></figure></p>
<p>去掉了前面的分号，来配置支持数据库，socket等<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">;extension=php_bz2.dll</span><br><span class="line">extension=php_curl.dll</span><br><span class="line">;extension=php_fileinfo.dll</span><br><span class="line">extension=php_gd2.dll</span><br><span class="line">;extension=php_gettext.dll</span><br><span class="line">;extension=php_gmp.dll</span><br><span class="line">;extension=php_intl.dll</span><br><span class="line">extension=php_imap.dll</span><br><span class="line">;extension=php_interbase.dll</span><br><span class="line">;extension=php_ldap.dll</span><br><span class="line">extension=php_mbstring.dll</span><br><span class="line">;extension=php_exif.dll      ; Must be after mbstring as it depends on it</span><br><span class="line">extension=php_mysql.dll</span><br><span class="line">extension=php_mysqli.dll</span><br><span class="line">;extension=php_oci8_12c.dll  ; Use with Oracle Database 12c Instant Client</span><br><span class="line">;extension=php_openssl.dll</span><br><span class="line">;extension=php_pdo_firebird.dll</span><br><span class="line">extension=php_pdo_mysql.dll</span><br><span class="line">;extension=php_pdo_oci.dll</span><br><span class="line">;extension=php_pdo_odbc.dll</span><br><span class="line">;extension=php_pdo_pgsql.dll</span><br><span class="line">;extension=php_pdo_sqlite.dll</span><br><span class="line">;extension=php_pgsql.dll</span><br><span class="line">;extension=php_shmop.dll</span><br><span class="line"></span><br><span class="line">; The MIBS data available in the PHP distribution must be installed. </span><br><span class="line">; See http://www.php.net/manual/en/snmp.installation.php </span><br><span class="line">extension=php_snmp.dll</span><br><span class="line"></span><br><span class="line">extension=php_soap.dll</span><br><span class="line">extension=php_sockets.dll</span><br><span class="line">;extension=php_sqlite3.dll</span><br><span class="line">;extension=php_sybase_ct.dll</span><br><span class="line">;extension=php_tidy.dll</span><br><span class="line">;extension=php_xmlrpc.dll</span><br><span class="line">;extension=php_xsl.dll</span><br></pre></td></tr></table></figure></p>
<p>然后再次打开 F:/apache24/conf/httpd.conf 这个配置文件，修改首页文件类型支持</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;IfModule dir_module&gt;</span><br><span class="line">    DirectoryIndex index.html index.htm index.php</span><br><span class="line">&lt;/IfModule&gt;</span><br></pre></td></tr></table></figure>
<p>接下来向httpd.conf中写入PHP支持模块</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 如下为PHP环境添加模块</span><br><span class="line">LoadModule php5_module &quot;F:/php5.6.21/php5apache2_4.dll&quot;</span><br><span class="line">PHPIniDir &quot;F:/php5.6.21/php.ini&quot;</span><br><span class="line"></span><br><span class="line"># 添加PHP支持</span><br><span class="line">AddType application/x-httpd-php .php</span><br></pre></td></tr></table></figure>
<p>接下来，来验证PHP是否安装完毕，在命令行输入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">httpd -k restart</span><br></pre></td></tr></table></figure>
<p>重新启动服务。在 F:\Apache24\htdocs (这个为 Apache 默认的项目存放路径，如需更改，可在 httpd.conf 中更改 DocumentRoot 指向的路径，然后重启 Apache 即可生效) 路径下新建一个文件phpinfo.php，内容添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php phpinfo();?&gt;</span><br></pre></td></tr></table></figure>
<p>然后在浏览器输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://localhost/phpinfo.php</span><br></pre></td></tr></table></figure></p>
<p>显示为PHP的版本的详情信息，则表示PHP环境安装成功。</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160513102434.png" alt="php信息"></p>
<p>至此，Apache+php的基本配置已完毕。</p>
<p>后续加入PHP项目，这里可能会遇到一个坑，就在是服务启动正常，但是在访问PHP项目的时候会报错，导致部分功能不能正常使用，其他的访问正常</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PHP Parse error:  syntax error, unexpected end of file xxxx文件</span><br></pre></td></tr></table></figure>
<p>查看报错位置的文件，也发现完全没有问题，这样捣腾来回一两小时过去了，最后搜索到有人遇到了一样的这个问题</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160513150504.png" alt="php错误信息"></p>
<p>有大神留有答案</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20160513150530.png" alt="php错误信息"></p>
<p>就是 short_open_tag 这个配置，这个在 php.ini 文件中默认为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">short_open_tag = Off</span><br></pre></td></tr></table></figure>
<p>将其更改为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">short_open_tag = On</span><br></pre></td></tr></table></figure>
<p>问题解决， O MY GOD …. 就因为这个。然后去PHP官网了解了这个配置指令</p>
<p><a href="http://php.net/manual/zh/ini.core.php#ini.short-open-tag" target="_blank" rel="external">官网地址</a> 更详细的可去官网自行查阅</p>
<p>short_open_tag boolean<br>决定是否允许使用 PHP 代码开始标志的缩写形式（&lt;? ?&gt;）。如果要和 XML 结合使用 PHP，可以禁用此选项以便于嵌入使用 &lt;?xml ?&gt;。否则还可以通过 PHP 来输出，例如：&lt;?php echo ‘&lt;?xml version=”1.0”‘; ?&gt;。如果禁用了，必须使用 PHP 代码开始标志的完整形式（&lt;?php ?&gt;）。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/apache/">apache</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/php/">php</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/PHP/">PHP</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-hello-world" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/22/hello-world/" class="article-date">
  	<time datetime="2016-04-22T02:30:37.796Z" itemprop="datePublished">2016-04-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/22/hello-world/">Hello World</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 Haihson
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a>
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<!-- cnzz Analytics -->
<script src="https://s11.cnzz.com/z_stat.php?id=1260140011&web_id=1260140011" language="JavaScript"></script>
<!-- End cnzz Analytics -->




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>