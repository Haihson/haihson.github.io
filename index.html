<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Haihson&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="学习总结 思考感悟 知识管理">
<meta property="og:type" content="website">
<meta property="og:title" content="Haihson's Blog">
<meta property="og:url" content="http://haihson.github.io/index.html">
<meta property="og:site_name" content="Haihson's Blog">
<meta property="og:description" content="学习总结 思考感悟 知识管理">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Haihson's Blog">
<meta name="twitter:description" content="学习总结 思考感悟 知识管理">
  
    <link rel="alternative" href="/atom.xml" title="Haihson&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="http://o73el5cs1.bkt.clouddn.com/7833658.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://o73el5cs1.bkt.clouddn.com/20160514114829.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Haihson</a></h1>
		</hgroup>

		
		<p class="header-subtitle">mmmmmmmmmmmm</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>主菜单</li>
						<li>云标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/Haihson" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="#" title="rss">rss</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/BeautifulSoup/" style="font-size: 10px;">BeautifulSoup</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 13.33px;">MySQL</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/System/" style="font-size: 10px;">System</a> <a href="/tags/WinScp/" style="font-size: 10px;">WinScp</a> <a href="/tags/animation/" style="font-size: 10px;">animation</a> <a href="/tags/apache/" style="font-size: 13.33px;">apache</a> <a href="/tags/backgroud/" style="font-size: 10px;">backgroud</a> <a href="/tags/cms/" style="font-size: 10px;">cms</a> <a href="/tags/command/" style="font-size: 13.33px;">command</a> <a href="/tags/css/" style="font-size: 16.67px;">css</a> <a href="/tags/grep/" style="font-size: 10px;">grep</a> <a href="/tags/html5/" style="font-size: 16.67px;">html5</a> <a href="/tags/img/" style="font-size: 10px;">img</a> <a href="/tags/input/" style="font-size: 10px;">input</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/php/" style="font-size: 13.33px;">php</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">博主很懒，还没留下什么东西......</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Haihson</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://o73el5cs1.bkt.clouddn.com/20160514114829.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Haihson</h1>
			</hgroup>
			
			<p class="header-subtitle">mmmmmmmmmmmm</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Haihson" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-Linux_nginx_install" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/04/02/Linux_nginx_install/" class="article-date">
  	<time datetime="2018-04-02T10:52:13.000Z" itemprop="datePublished">2018-04-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/04/02/Linux_nginx_install/">Linux 安装 nginx</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Linux-安装-nginx"><a href="#Linux-安装-nginx" class="headerlink" title="Linux 安装 nginx"></a>Linux 安装 nginx</h2><p>搭建Web服务器就是选的 nginx ，而且还可以用作反向代理，负载平衡器 和HTTP缓存。系统版本我经常选的为 CentOS 6.<em>x</em>  这个区间的。</p>
<p>安装方式，从官方的NGINX存储库中拉取。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[bei@iZwz986bro78z2htwq85reZ /]# vim /etc/yum.repos.d/nginx.repo</span><br><span class="line"></span><br><span class="line">[nginx]</span><br><span class="line">name=nginx repo</span><br><span class="line">baseurl=http://nginx.org/packages/mainline/&lt;OS&gt;/&lt;OSRELEASE&gt;/$basearch/</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line"></span><br><span class="line">&lt;OS&gt; 为指定操作系统 rhel or centos</span><br><span class="line">&lt;OSRELEASE&gt; 为指定系统的具体版本 (6, 6._x_, 7, 7._x_ and so on)</span><br></pre></td></tr></table></figure></p>
<p>详细请看官方文档 <a href="https://docs.nginx.com/nginx/admin-guide/installing-nginx/installing-nginx-open-source/" target="_blank" rel="external">传送门</a></p>
<p>接下来就可以执行如下指令来安装好 nginx：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install nginx</span><br></pre></td></tr></table></figure></p>
<p>完成后就可以启动 nginx 了<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[bei@iZwz986bro78z2htwq85reZ /]# /etc/init.d/nginx start</span><br><span class="line">Starting nginx:                                            [  OK  ]</span><br></pre></td></tr></table></figure></p>
<p>现在 nginx 已经启动了，直接访问服务器就能看到 nginx 欢迎页面了。</p>
<p>因为服务器选购的阿里云，一般访问是通过 80 端口访问的，如果访问不了，还需取阿里云管理后台的 安全规则中配置下需开放的端口才能进行访问。</p>
<p>nginx 配置文件路径：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[bei@iZwz986bro78z2htwq85reZ /]# /etc/nginx/nginx.conf</span><br></pre></td></tr></table></figure></p>
<p>另外还需配置下开机启动，防止重启服务器导致 nginx 没启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[bei@iZwz986bro78z2htwq85reZ /]# chkconfig nginx on</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/nginx/">nginx</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Linux_WinScp" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/03/22/Linux_WinScp/" class="article-date">
  	<time datetime="2018-03-22T00:52:13.000Z" itemprop="datePublished">2018-03-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/22/Linux_WinScp/">Linux WinScp普通用户登录sftp切换root权限</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Linux-WinScp普通用户登录sftp切换root权限"><a href="#Linux-WinScp普通用户登录sftp切换root权限" class="headerlink" title="Linux WinScp普通用户登录sftp切换root权限"></a>Linux WinScp普通用户登录sftp切换root权限</h2><p>之前说到为了服务器安全，禁止了ssh root账号登录，此时使用sftp登录管理服务器只能使用普通账号登录，传文件啥的，存在权限文件，给管理带来些麻烦，需要为特定普通SSH用户添加sudo权限，登录到sftp时可sudo切换到root权限下。</p>
<p>查看 /etc/ssh/sshd_config 内sftp-server执行文件目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[xxxxx@localhost /]# vim /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line"># override default of no subsystems</span><br><span class="line">Subsystem       sftp    /usr/libexec/openssh/sftp-server</span><br></pre></td></tr></table></figure></p>
<p>编辑 /etc/sudoers 为特定用户添加执行 sftp sudo 权限，user(为你新建的普通用户账号)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[xxxxx@localhost /]# vim /etc/sudoers</span><br><span class="line"></span><br><span class="line">## Allow root to run any commands anywhere </span><br><span class="line">root    ALL=(ALL)       ALL</span><br><span class="line">user ALL=NOPASSWD:/usr/libexec/openssh/sftp-server</span><br></pre></td></tr></table></figure></p>
<p>然后再为 sftp客户端 设置登录以sudo权限执行sftp， 客户端用的 WinScp<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/libexec/openssh/sftp-server</span><br></pre></td></tr></table></figure></p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20180322105118.png" alt=""></p>
<p>这样用 WinScp 登录就是root权限了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WinScp/">WinScp</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Linux_ssh" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/03/21/Linux_ssh/" class="article-date">
  	<time datetime="2018-03-21T02:23:11.000Z" itemprop="datePublished">2018-03-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/03/21/Linux_ssh/">Linux sshd服务防止暴力破解</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Linux-sshd服务防止暴力破解"><a href="#Linux-sshd服务防止暴力破解" class="headerlink" title="Linux sshd服务防止暴力破解"></a>Linux sshd服务防止暴力破解</h2><p>搭梯子上网买了台VPS(centos6)，就用作上网用，配置比较低，能满足日常使用，一年20刀，价钱算很人道了，哈哈。<br>正事：一般管理时都是远程通过 sshd 服务连接，系统默认开放的端口：22 ，登录名：root ，再就是自己设置个密码，用个 Xshell 输入服务器IP 端口 登录名 密码，基本上就是这么个样子就进行访问了。</p>
<p>但是为了防止被别人暴力破解，还是得为服务器做点处理，一般暴力破解就是根据服务器IP扫描端口 22，然后根据字典猜密码，用户名一般就是 root</p>
<blockquote>
<ul>
<li>扫描端口号：22 </li>
<li>找到对应的linux服务器</li>
<li>暴力破解：用户名和IP（root，公网IP地址）</li>
</ul>
</blockquote>
<p>根据这个步骤，一般我们就是设置个很长很复杂的密码，这样就算被知道公网IP+用户名+端口，短时间可能是破解不了的，但是总是有算出的时候，要是更改22端口，禁止root用户远程登录，再另外新建一个用户(名字自己定义)，这样就算被知道公网IP，也不知道密码 端口 用户名了，被暴力破解的机会是大大降低了，一般情况应该可以解决了暴力破解的问题了。</p>
<blockquote>
<ul>
<li>密码足够复杂 </li>
<li>修改默认端口号(22)</li>
<li>不使用root用户名登录(用新建的用户远程登录，然后 su 切换至 root)</li>
</ul>
</blockquote>
<p>改Port 22为：Port 12385(自定义)<br>禁止root远程登录，改 yes 为 no<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[xxxxx@localhost /]$ vim /etc/ssh/sshd_config</span><br><span class="line">Port 12385</span><br><span class="line">PermitRootLogin no</span><br></pre></td></tr></table></figure></p>
<p>然后重启下 sshd 服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[xxxxx@localhost /]$ /etc/init.d/sshd restart</span><br><span class="line">Stopping sshd:                                             [  OK  ]</span><br><span class="line">Starting sshd:                                             [  OK  ]</span><br></pre></td></tr></table></figure></p>
<p>创建一个普通帐号（xxxxx 名字自定义）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[xxxxx@localhost /]$ useradd xxxxx</span><br></pre></td></tr></table></figure></p>
<p>为账号设置密码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[xxxxx@localhost /]$ passwd xxxxx</span><br></pre></td></tr></table></figure></p>
<p>然后输入密码，再确认一次密码就设置好了，这时你用root账号远程登录是连接不上了。<br>用户新建的用户连接服务器，如果需要root权限可以用户 su 命令来切换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[xxxxx@localhost /]$ su root</span><br></pre></td></tr></table></figure>
<p>输入 root 账号对应的密码，就切换登录了。</p>
<p>另外还有个 fail2ban 工具 <a href="http://www.fail2ban.org" target="_blank" rel="external">传送门</a><br>可以监控多个系统的日志文件（例如：/var/log/auth.log 或者 /var/log/secure）并根据检测到的可疑行为自动触发防御动作（一般调用iptables屏蔽IP）。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ssh/">ssh</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-css_picture_adaptation" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/12/08/css_picture_adaptation/" class="article-date">
  	<time datetime="2017-12-08T02:57:39.000Z" itemprop="datePublished">2017-12-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/08/css_picture_adaptation/">响应式网站，图片自适应处理</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="响应式网站，图片自适应处理"><a href="#响应式网站，图片自适应处理" class="headerlink" title="响应式网站，图片自适应处理"></a>响应式网站，图片自适应处理</h4><p>在做响应式网站时，有用作背景的图片、图标、展示用的图片；自适应时的显示效果(主要缩放显示、固定容器内等比例截取)</p>
<p>一般就两种方式:</p>
<ul>
<li>1：backgroud</li>
<li>2：img</li>
</ul>
<p>background CSS 写法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">background-image: url(/static/img/flow_bg.99f57ae.jpg);</span><br><span class="line"> background-size: cover;</span><br><span class="line"> background-repeat: no-repeat;</span><br><span class="line"> background-position: top center; 截取位置</span><br></pre></td></tr></table></figure></p>
<p>img CSS 写法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">width: 100%;</span><br><span class="line"> height: 650px; 高度根据实际情况设置固定的或者auto</span><br><span class="line"> -o-object-fit: cover;</span><br><span class="line"> object-fit: cover;</span><br></pre></td></tr></table></figure></p>
<p>CSS3 参考资料</p>
<p><a href="https://www.w3cplus.com/css3/css3-object-fit-and-object-position-properties.html" target="_blank" rel="external">Object-fit @w3cplus.com</a> </p>
<p><a href="https://css-tricks.com/almanac/properties/o/object-fit/" target="_blank" rel="external">Object-fit @css-tricks.com</a></p>
<p><a href="https://css-tricks.com/perfect-full-page-background-image/" target="_blank" rel="external">perfect-full-page-background-image @css-tricks.com</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/backgroud/">backgroud</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/html5/">html5</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/img/">img</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/CSS/">CSS</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-css_shadow_animate" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/10/30/css_shadow_animate/" class="article-date">
  	<time datetime="2017-10-30T14:01:49.000Z" itemprop="datePublished">2017-10-30</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/10/30/css_shadow_animate/">css 鼠标 hover 元素时效果</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="鼠标移动到元素时渐变放大，然后周围加阴影"><a href="#鼠标移动到元素时渐变放大，然后周围加阴影" class="headerlink" title="鼠标移动到元素时渐变放大，然后周围加阴影"></a>鼠标移动到元素时渐变放大，然后周围加阴影</h4><p>效果如下：</p>
<p><img src="http://o73el5cs1.bkt.clouddn.com/1509330426546.gif" alt="渐变"></p>
<p>Html 部分</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div class=&quot;container&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;ide-card-img&quot;&gt;</span><br><span class="line">        &lt;img src=&quot;图片URL&quot;&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;ide-card-desc&quot;&gt;云服务质量评估体系权威认证&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p>CSS 部分： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">正常状态下</span><br><span class="line">.container &#123;</span><br><span class="line">    background: #fff;</span><br><span class="line">    border: 1px solid #eff2f7;</span><br><span class="line">    width: 367px;</span><br><span class="line">    height: auto;</span><br><span class="line">    margin-left: 24px;</span><br><span class="line">    text-align: center;</span><br><span class="line">    transition: all .3s cubic-bezier(.78, .14, .15, .86); 贝塞尔曲线，动效</span><br><span class="line">    -webkit-transition: all .3s cubic-bezier(.78, .14, .15, .86);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">焦点状态下</span><br><span class="line">.container:hover &#123;</span><br><span class="line">    transform: scale(1.02, 1.035);</span><br><span class="line">    -webkit-transform: scale(1.02, 1.035); 渐变放大倍数</span><br><span class="line">    box-shadow: 0 0 20px 0 rgba(54, 136, 255, .2);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.ide-card-img &#123;</span><br><span class="line">    margin-top: 40px;</span><br><span class="line">    margin-bottom: 16px;</span><br><span class="line">    padding-bottom: 116px;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100px;</span><br><span class="line">    border-bottom: 2px solid #eff2f7;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.ide-card-desc &#123;</span><br><span class="line">    font-size: 14px;</span><br><span class="line">    color: #888;</span><br><span class="line">    letter-spacing: 0;</span><br><span class="line">    line-height: 24px;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/animation/">animation</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/css/">css</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/CSS/">CSS</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Git_command_note" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/24/Git_command_note/" class="article-date">
  	<time datetime="2017-03-24T02:47:39.000Z" itemprop="datePublished">2017-03-24</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/24/Git_command_note/">Git命令使用</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Git命令使用"><a href="#Git命令使用" class="headerlink" title="Git命令使用"></a>Git命令使用</h2><p>Git是一个开源的分布式版本控制系统，用来项目版本管理。其他的优缺点就不在这多说了，大家可以自行去查阅文档，这里记录下日常使用Git的一些常用命令，日常使用是够了。<a href="https://git-scm.com/docs" target="_blank" rel="external">Git全部命令文档传送门</a></p>
<blockquote>
<p>示意图</p>
</blockquote>
<p><img src="http://o73el5cs1.bkt.clouddn.com/20170324104238.png" alt="img"></p>
<blockquote>
<p>仓库</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Workspace：工作区</span><br><span class="line">Index：暂存区</span><br><span class="line">Repository：仓库区（或本地仓库）</span><br><span class="line">Remote：远程仓库</span><br></pre></td></tr></table></figure>
<blockquote>
<p>初始化代码库</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">在当前目录下新建一个Git代码库</span><br><span class="line">$ git init</span><br><span class="line">Initialized empty Git repository in xxxxxx/.git/</span><br><span class="line"></span><br><span class="line">在当前目录下新建一个目录并将他初始化为Git代码库</span><br><span class="line">$ git init newfolder</span><br><span class="line"></span><br><span class="line">下载一个代码库(因为Git是分布式的，所以它的整个代码历史都在里面)</span><br><span class="line">$ git clone https://github.com/Haihson/shareCoupon.git</span><br><span class="line">Cloning into &apos;shareCoupon&apos;...</span><br><span class="line">remote: Counting objects: 85, done.</span><br><span class="line">remote: Compressing objects: 100% (74/74), done.</span><br><span class="line">remote: Total 85 (delta 2), reused 81 (delta 1), pack-reused 0</span><br><span class="line">Unpacking objects: 100% (85/85), done.</span><br><span class="line">Checking connectivity... done.</span><br></pre></td></tr></table></figure>
<blockquote>
<p>查看信息</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">显示有变更的文件</span><br><span class="line">$ git status</span><br><span class="line"></span><br><span class="line">显示当前分支的版本历史</span><br><span class="line">$ git log</span><br></pre></td></tr></table></figure>
<blockquote>
<p>文件操作</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">新增文件</span><br><span class="line">添加指定文件到暂存区</span><br><span class="line">$ git add 文件 ...</span><br><span class="line"></span><br><span class="line">添加指定目录到暂存区，包括子目录</span><br><span class="line">$ git add 文件夹目录</span><br><span class="line"></span><br><span class="line">添加当前目录的所有文件到暂存区</span><br><span class="line">$ git add .</span><br></pre></td></tr></table></figure>
<blockquote>
<p>分支</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">列出所有本地分支</span><br><span class="line">$ git branch</span><br><span class="line"></span><br><span class="line">新建一个分支，但依然停留在当前分支</span><br><span class="line">$ git branch 分支名称</span><br><span class="line"></span><br><span class="line">新建一个分支，并切换到该分支</span><br><span class="line">$ git checkout -b 分支名称</span><br><span class="line"></span><br><span class="line">切换分支</span><br><span class="line">$ git checkout 分支名称</span><br><span class="line"></span><br><span class="line">删除分支</span><br><span class="line">$ git branch -d 分支名称</span><br></pre></td></tr></table></figure>
<blockquote>
<p>合并</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">合并指定分支到当前分支</span><br><span class="line">$ git merge 分支名称</span><br><span class="line"></span><br><span class="line"># 对分支进行合并(--no-ff参数进行合并，会在合并后的主干上生成一个新节点，相比只用merge多了节点记录，便于查看版本更迭情况)</span><br><span class="line">$ git merge --no-ff 分支名称</span><br></pre></td></tr></table></figure>
<blockquote>
<p>代码提交、拉取</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">本地代码提交</span><br><span class="line"></span><br><span class="line">提交暂存区到仓库区</span><br><span class="line">$ git commit -m &quot;本次提交的说明&quot;</span><br><span class="line"></span><br><span class="line">本地仓库与远程仓库同步</span><br><span class="line">将本地项目与远程仓库关联起来</span><br><span class="line">git remote add origin https://github.com/Haihson/vue-admin-elementui.git</span><br><span class="line"></span><br><span class="line">显示所有远程仓库</span><br><span class="line">$ git remote -v</span><br><span class="line"></span><br><span class="line">上传本地指定分支到远程仓库</span><br><span class="line">$ git push 远程仓库名称 分支名称</span><br><span class="line"></span><br><span class="line">拉取远程仓库并与本地分支合并</span><br><span class="line">$ git pull 远程仓库名称 分支名称</span><br><span class="line"></span><br><span class="line">更改远程仓库地址</span><br><span class="line">$ git remote set-url origin 远程仓库地址</span><br><span class="line"></span><br><span class="line">本地、远程分支列表</span><br><span class="line">$ git branch -va </span><br><span class="line">$ git branch -a </span><br><span class="line">* master</span><br><span class="line">  develop</span><br><span class="line">  remotes/origin/HEAD -&gt; origin/master</span><br><span class="line">  remotes/origin/dev</span><br><span class="line">  remotes/origin/master</span><br><span class="line">  </span><br><span class="line">同步远程和本地分支列表</span><br><span class="line">$ git fetch -p</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/command/">command</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Git/">Git</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Linux_command_note" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/21/Linux_command_note/" class="article-date">
  	<time datetime="2017-03-21T07:15:19.000Z" itemprop="datePublished">2017-03-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/03/21/Linux_command_note/">Linux命令大全</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux命令大全"><a href="#Linux命令大全" class="headerlink" title="Linux命令大全"></a>Linux命令大全</h1><h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><h4 id="进入目录-cd-目录名"><a href="#进入目录-cd-目录名" class="headerlink" title="进入目录  cd  目录名"></a>进入目录  cd  目录名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd  /home  	到home</span><br><span class="line">cd  		不带参数，到上一层目录</span><br><span class="line">cd - 	 	切到上一个打开目录</span><br><span class="line">cd ..	 	上一级目录</span><br></pre></td></tr></table></figure>
<h4 id="查看目录或文件-ls-alc-目录-文件"><a href="#查看目录或文件-ls-alc-目录-文件" class="headerlink" title="查看目录或文件  ls  [-alc]  [目录/文件]"></a>查看目录或文件  ls  [-alc]  [目录/文件]</h4><p>格式：ls [选项] [目录或文件]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. ls /home		显示/home目录下的文件与目录（不包含隐藏文件）</span><br><span class="line">2. ls –a /home		显示/home目录下的所有文件与目录（包含隐藏文件）</span><br><span class="line">3. ls –l /home		显示/home目录下的文件与目录的详细信息</span><br><span class="line">4. ls –c /home		显示/home目录下的文件与目录,按修改时间排序</span><br></pre></td></tr></table></figure></p>
<h4 id="查看当前目录下的文件-ll-alc"><a href="#查看当前目录下的文件-ll-alc" class="headerlink" title="查看当前目录下的文件  ll  [-alc]"></a>查看当前目录下的文件  ll  [-alc]</h4><p>选项同 ls ,显示目录或文件属性  lsattr , 格式：lsattr [选项] [目录或文件]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-a 　显示所有文件和目录</span><br><span class="line">-d 　显示，目录名称，而非其内容</span><br><span class="line">-l 　此参数目前没有任何作用</span><br><span class="line">-R 　递归处理，将指定目录下的所有文件及子目录一并处理</span><br><span class="line">-v 　显示文件或目录版本</span><br><span class="line">-V 　显示版本信</span><br></pre></td></tr></table></figure></p>
<h4 id="创建文件-touch-文件名"><a href="#创建文件-touch-文件名" class="headerlink" title="创建文件    touch  文件名"></a>创建文件    touch  文件名</h4><p>格式：touch  [选项]  文件名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">范例：touch  /home/test.txt		在/home目录下创建test文件</span><br></pre></td></tr></table></figure></p>
<h4 id="删除文件-rm-fr-文件名"><a href="#删除文件-rm-fr-文件名" class="headerlink" title="删除文件 rm  [-fr]  文件名"></a>删除文件 rm  [-fr]  文件名</h4><p>格式：rm [选项] 文件名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rm /home/test		删除/home目录下的test文件</span><br><span class="line">-d或--directory 　	直接把欲删除的目录的硬连接数据删成0，删除该目录。 </span><br><span class="line">-f或--force 　	强制删除文件或目录。 </span><br><span class="line">-i或--interactive 　	删除既有文件或目录之前先询问用户。 删除非空目录是需加入</span><br><span class="line">-r或-R或--recursive 　	递归处理，将指定目录下的所有文件及子目录一并处理。 </span><br><span class="line">-v或--verbose 　	显示指令执行过程。</span><br></pre></td></tr></table></figure></p>
<h4 id="文件操作内容"><a href="#文件操作内容" class="headerlink" title="文件操作内容"></a>文件操作内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi 文件 进入vi编辑器</span><br></pre></td></tr></table></figure>
<h4 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat  文件名  		一屏查看文件内容</span><br><span class="line">more 文件名		分页查看文件内容</span><br><span class="line">less 文件名		可控分页查看文件内容  q退出</span><br><span class="line">grep 字符 文件名 	根据字符匹配来查看文件部分内容</span><br></pre></td></tr></table></figure>
<h4 id="创建目录-mkdir-目录名"><a href="#创建目录-mkdir-目录名" class="headerlink" title="创建目录 mkdir  目录名"></a>创建目录 mkdir  目录名</h4><p>格式：mkdir [选项] 目录名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">范例：</span><br><span class="line">1. mkdir /home/workdir    在/home目录下创建workdir目录</span><br><span class="line">2. mkdir –p /home/dir1/dir2   -p指令,如果dir1不存在，先创建dir1</span><br></pre></td></tr></table></figure></p>
<h4 id="修改目录或文件-名-后缀-rename-或-mv"><a href="#修改目录或文件-名-后缀-rename-或-mv" class="headerlink" title="修改目录或文件[名/后缀]  rename  或  mv"></a>修改目录或文件[名/后缀]  rename  或  mv</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.mv aaa.txt bbb.txt  修改单个文件名，把aaa.txt改为bbb.txt</span><br><span class="line">2.rename a.txt b.txt *  修改单个文件</span><br><span class="line">3.rename 批量命名  把test.tar.gz  修改为backup.tar.gz</span><br><span class="line">#  rename  test  backup  *.tar.gz</span><br><span class="line">把200个.html后缀的文件修改为.htm后缀</span><br><span class="line">#  rename  .html  .htm  *      或者   rename  html  htm  *.html</span><br></pre></td></tr></table></figure>
<h4 id="删除目录-rmdir-目录名"><a href="#删除目录-rmdir-目录名" class="headerlink" title="删除目录 rmdir  目录名"></a>删除目录 rmdir  目录名</h4><p>格式：rmdir [选项] 目录名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rmdir /home/workdir   删除/home目录下workdir目录</span><br><span class="line">rmdir不能删除非空目录，删除非空目录使用rm 目录名 -r</span><br></pre></td></tr></table></figure></p>
<h4 id="复制文件或目录-cp-源文件-新目录"><a href="#复制文件或目录-cp-源文件-新目录" class="headerlink" title="复制文件或目录 cp  源文件 新目录"></a>复制文件或目录 cp  源文件 新目录</h4><p>格式：cp [选项] 源文件或目录目标文件或目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. cp /home/test /tmp/		将/home目录下的test文件copy到/tmp目录下</span><br><span class="line">2. cp –r /home/dir1 /tmp/	将/home目录下的dir1目录copy到/tmp目录下</span><br></pre></td></tr></table></figure></p>
<h4 id="移动文件或目录-mv-源文件-目标目录"><a href="#移动文件或目录-mv-源文件-目标目录" class="headerlink" title="移动文件或目录 mv 源文件 目标目录"></a>移动文件或目录 mv 源文件 目标目录</h4><p>格式：mv [选项] 源文件或目录目标文件或目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.mv /home/test /home/test1 将/home目录下的test文件更名为test1</span><br><span class="line">2.mv /home/dir1 /tmp/		将/home目录下dir1目录移动（剪切）到/tmp目录下</span><br></pre></td></tr></table></figure></p>
<h4 id="文件打包-tar-cf-目录-文件"><a href="#文件打包-tar-cf-目录-文件" class="headerlink" title="文件打包  tar  [-cf]  [目录/文件]"></a>文件打包  tar  [-cf]  [目录/文件]</h4><p>格式：tar [选项] 文件或目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">tar -cf all.tar *.jpg</span><br><span class="line">	将所有.jpg的文件打成一个名为all.tar的包。-c是表示产生新的包，-f指定包的文件名</span><br><span class="line">tar -rf all.tar *.gif</span><br><span class="line">　　将所有.gif的文件增加到all.tar的包里面去。-r是表示增加文件的意思</span><br><span class="line">tar -uf all.tar logo.gif</span><br><span class="line">	更新原来tar包all.tar中logo.gif文件，-u是表示更新文件的意思</span><br><span class="line">tar -tf all.tar</span><br><span class="line">	列出all.tar包中所有文件，-t是列出文件的意思</span><br><span class="line">tar -xf all.tar</span><br><span class="line">解出all.tar包中所有文件，-x是解开的意思</span><br><span class="line">-c 建立新的归档文件</span><br><span class="line">-r 向归档文件末尾追加文件</span><br><span class="line">-u 更新文件包里的文件</span><br><span class="line">-t 查看文件包文件</span><br><span class="line">-x 从归档文件中解出文件</span><br><span class="line">-O 将文件解开到标准输出</span><br><span class="line">-v 处理过程中输出相关信息</span><br><span class="line">-f 对普通文件操作</span><br><span class="line">-z 调用gzip来压缩归档文件，与-x联用时调用gzip完成解压缩</span><br><span class="line">-Z 调用compress来压缩归档文件，与-x联用时调用compress完成解压缩</span><br></pre></td></tr></table></figure></p>
<h4 id="gzip压缩"><a href="#gzip压缩" class="headerlink" title="gzip压缩"></a>gzip压缩</h4><p>格式：gzip 选项 文件目录列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-c 压缩结果写入标准输出，原文件保持不变。缺省时gzip将原文件压缩为.gz文件，并删除原文件。</span><br><span class="line">-v 输出处理信息。</span><br><span class="line">-d 解压缩指定文件。</span><br><span class="line">-t 测试压缩文件的完整性。</span><br></pre></td></tr></table></figure></p>
<h4 id="gunzip解压缩"><a href="#gunzip解压缩" class="headerlink" title="gunzip解压缩"></a>gunzip解压缩</h4><p>格式：gzip 选项 文件目录列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-c 将输出写入标准输出，原文件保持不变。缺省时，gunzip将压缩文件变成解压缩文件。</span><br><span class="line">-l 列出压缩文件中的文件而不解压缩。</span><br><span class="line">-r 递归解压缩，深入目录结构中，解压缩命令行变元所指定目录中的所有子目录内的文件。</span><br></pre></td></tr></table></figure></p>
<h4 id="find查找"><a href="#find查找" class="headerlink" title="find查找"></a>find查找</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -name &apos;.?*.out.*&apos; 查找所有以 “.out.”  为名的文件</span><br></pre></td></tr></table></figure>
<h4 id="远程复制文件"><a href="#远程复制文件" class="headerlink" title="远程复制文件"></a>远程复制文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -rv -P22 要复制的文件 root@121.14.195.190:/home</span><br><span class="line">跨机器复制 执行： source /home/2013041511.txt</span><br></pre></td></tr></table></figure>
<h2 id="系统监控"><a href="#系统监控" class="headerlink" title="系统监控"></a>系统监控</h2><h4 id="查看系统参数"><a href="#查看系统参数" class="headerlink" title="查看系统参数"></a>查看系统参数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">查看CPU核数 cat /proc/cpuinfo | grep &quot;cpu cores&quot; | uniq</span><br><span class="line">查看CPU型号 cat /proc/cpuinfo | grep &apos;model name&apos; |uniq</span><br><span class="line">查看内存总数 	cat /proc/meminfo | grep MemTotal</span><br><span class="line">查看硬盘大小 	fdisk -l | grep Disk</span><br></pre></td></tr></table></figure>
<h4 id="进程和端口"><a href="#进程和端口" class="headerlink" title="进程和端口"></a>进程和端口</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">查看所有的进程和端口使用情况：</span><br><span class="line">netstat –apn  or  netstat -tnl</span><br><span class="line"></span><br><span class="line">查看端口被占用情况：</span><br><span class="line">netstat –apn grep 8080 </span><br><span class="line"></span><br><span class="line">端口并发连接：</span><br><span class="line">netstat -n | grep 80 | awk &apos;/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;&apos;</span><br><span class="line"></span><br><span class="line">查看Tomcat进程：</span><br><span class="line">ps -aux | grep tomcat </span><br><span class="line"></span><br><span class="line">查看nginx并发（连接数）进程数：</span><br><span class="line">ps -ef|grep nginx |wc -l  </span><br><span class="line"></span><br><span class="line">查看当网络连接状态中，已建立连接的数量：</span><br><span class="line">netstat -na|grep ESTABLISHED|wc -l  </span><br><span class="line"></span><br><span class="line">查看系统tcp连接中各个状态的连接数</span><br><span class="line">netstat -an | awk &apos;/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;&apos;</span><br><span class="line"></span><br><span class="line">输出每个ip的连接数，以及总的各个状态的连接数。</span><br><span class="line">netstat -n | awk &apos;/^tcp/ &#123;n=split($(NF-1),array,&quot;:&quot;);if(n&lt;=2)++S[array[(1)]];else++S[array[(4)]];++s[$NF];++N&#125; END &#123;for(a in S)&#123;printf(&quot;%-20s %s\n&quot;, a, S[a]);++I&#125;printf(&quot;%-20s %s\n&quot;,&quot;TOTAL_IP&quot;,I);for(a in s) printf(&quot;%-20s %s\n&quot;,a, s[a]);printf(&quot;%-20s %s\n&quot;,&quot;TOTAL_LINK&quot;,N);&#125;&apos;</span><br></pre></td></tr></table></figure>
<h4 id="磁盘管理"><a href="#磁盘管理" class="headerlink" title="磁盘管理"></a>磁盘管理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df -hl 查看磁盘使用情况 </span><br><span class="line">df -hl 查看磁盘剩余空间</span><br><span class="line">df -h 查看每个根路径的分区大小</span><br><span class="line">du -sh [目录名] 返回该目录的大小</span><br><span class="line">du -sm [文件夹] 返回该文件夹总M数</span><br><span class="line">find [文件夹] -type f -print |wc -l    查询目录下的文件数量</span><br></pre></td></tr></table></figure>
<h4 id="文件权限控制"><a href="#文件权限控制" class="headerlink" title="文件权限控制"></a>文件权限控制</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">加权限：</span><br><span class="line">chmod +x tomcat.sh  【-x 表示禁用权限】</span><br><span class="line">chown -R cmge:cmge cmge.zip  【文件权限】</span><br></pre></td></tr></table></figure>
<h2 id="系统配置"><a href="#系统配置" class="headerlink" title="系统配置"></a>系统配置</h2><h4 id="IP配置"><a href="#IP配置" class="headerlink" title="IP配置"></a>IP配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">一般在这个目录下：/etc/sysconfig/network-scripts</span><br><span class="line">通常是：</span><br><span class="line">ifcfg-eth0  网口1</span><br><span class="line">ifcfg-eth1  网口2</span><br><span class="line"></span><br><span class="line">DELL的是：</span><br><span class="line">ifcfg-em1   网口1</span><br><span class="line">ifcfg-em2   网口2</span><br><span class="line">重启网卡: service network restart</span><br><span class="line"></span><br><span class="line">如果ping不通域名</span><br><span class="line">在/etc/resolv.conf</span><br><span class="line">配置nameserver 202.96.128.86 </span><br><span class="line"></span><br><span class="line">特别注意：ONBOOT=&quot;yes&quot;   启动自动连接网络</span><br></pre></td></tr></table></figure>
<h4 id="ssh登录编码设置"><a href="#ssh登录编码设置" class="headerlink" title="ssh登录编码设置"></a>ssh登录编码设置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/i18n  打开文件，输入以下内容</span><br><span class="line">--------------------------------------------------------</span><br><span class="line">LANG=&quot;zh_CN.GB18030&quot;</span><br><span class="line">LANGUAGE=&quot;zh_CN.GB18030:zh_CN.GB2312:zh_CN:zh_CN.UTF-8&quot;</span><br><span class="line">SUPPORTED=&quot;zh_CN.UTF-8:zh_CN:zh&quot;</span><br><span class="line">SYSFONT=&quot;lat0-sun16&quot;</span><br><span class="line">SYSFONTACM=&quot;GB18030&quot;</span><br><span class="line">--------------------------------------------------------</span><br></pre></td></tr></table></figure>
<h4 id="编辑快捷命令-环境变量"><a href="#编辑快捷命令-环境变量" class="headerlink" title="编辑快捷命令(环境变量)"></a>编辑快捷命令(环境变量)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">快捷命令存放文件: ~/.bashrc</span><br><span class="line">~表示当前的用户主目录</span><br><span class="line">增加快捷命令: alias 命令，例如：alias  home=’cd /home’</span><br><span class="line"></span><br><span class="line">查看快捷命令: alias</span><br><span class="line"></span><br><span class="line">每次修改.bashrc后，使用source ~/.bashrc（或者 . ~/.bashrc）</span><br></pre></td></tr></table></figure>
<h4 id="Linux安全"><a href="#Linux安全" class="headerlink" title="Linux安全"></a>Linux安全</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ssh   配置文件：/etc/ssh/sshd_config</span><br><span class="line">1、禁止root远程登录 PermitRootLogin no</span><br><span class="line">2、更改ssh默认端口  Port 2002</span><br><span class="line">3、重启: service sshd restart</span><br><span class="line"></span><br><span class="line">iptables   防火墙</span><br><span class="line">Vi  /etc/sysconfig/iptables</span><br><span class="line">修改后台重启</span><br></pre></td></tr></table></figure>
<h4 id="最大文件打开数限制"><a href="#最大文件打开数限制" class="headerlink" title="最大文件打开数限制"></a>最大文件打开数限制</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在系统文件/etc/security/limits.conf中修改这个数量限制，</span><br><span class="line">永久设置：在文件最后加入内容：</span><br><span class="line">* soft nofile 65536 </span><br><span class="line">* hard nofile 65536</span><br><span class="line">临时设置：ulimit -n 2000</span><br></pre></td></tr></table></figure>
<h4 id="同步网络时间"><a href="#同步网络时间" class="headerlink" title="同步网络时间"></a>同步网络时间</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">直接运行 ntpdate pool.ntp.org</span><br><span class="line"></span><br><span class="line">定时器方式</span><br><span class="line">crontab -e  编辑定时器</span><br><span class="line">01 23 * * * ntpdate pool.ntp.org</span><br><span class="line"></span><br><span class="line">crontab -l	  查看定时器</span><br><span class="line">*/1 * * * * /bin/sh /usr/local/sbin/changerOwer.sh    定时执行脚本</span><br></pre></td></tr></table></figure>
<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h4 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd -d 登入目录 -m 用户名</span><br><span class="line">例如：useradd  -d /home/admin -m admin</span><br><span class="line">-m 表示自动创建目录</span><br></pre></td></tr></table></figure>
<h4 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">userdel -f 用户名</span><br><span class="line">例如：userdel -f admin</span><br><span class="line">-f 表示同时删除用户目录</span><br></pre></td></tr></table></figure>
<h4 id="设置口令密码"><a href="#设置口令密码" class="headerlink" title="设置口令密码"></a>设置口令密码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">passwd -u 用户  或 passwd 用户</span><br><span class="line">会提示两次输入密码</span><br></pre></td></tr></table></figure>
<h2 id="Linux安装软件"><a href="#Linux安装软件" class="headerlink" title="Linux安装软件"></a>Linux安装软件</h2><h4 id="安装memcache"><a href="#安装memcache" class="headerlink" title="安装memcache"></a>安装memcache</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">下载libevent:  wget </span><br><span class="line">https://github.com/downloads/libevent/libevent/libevent-2.0.21-stable.tar.gz  </span><br><span class="line"></span><br><span class="line">tar zxf libevent-2.0.21-stable.tar.gz</span><br><span class="line">cd libevent-2.0.21-stable</span><br><span class="line">./configure --prefix=/usr/local/libevent</span><br><span class="line">make &amp;&amp; make install </span><br><span class="line"></span><br><span class="line">wget http://memcached.googlecode.com/files/memcached-1.4.15.tar.gz</span><br><span class="line">tar zxf memcached-1.4.15.tar.gz</span><br><span class="line">cd memcached-1.4.15</span><br><span class="line">./configure --prefix=/usr/local/memcached --with-libevent=/usr/local/libevent </span><br><span class="line">make </span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">启动：</span><br><span class="line">-l 192.168.1.3 固定访问IP</span><br><span class="line">-m 1024 最大分配1G内存</span><br><span class="line">/usr/local/memcached/bin/memcached -u root -p 11211 -d -m 1024 -t 5 -f 1.25</span><br><span class="line">telnet 127.0.0.1 11211</span><br><span class="line">stats</span><br><span class="line">能连接上说明安装成功</span><br></pre></td></tr></table></figure>
<h4 id="安装nginx"><a href="#安装nginx" class="headerlink" title="安装nginx"></a>安装nginx</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">检查是否安装下列库：zlib zlib-devel openssl openssl-devel pcre pcre-devel gcc</span><br><span class="line">yum install zlib zlib-devel openssl openssl-devel pcre pcre-devel</span><br><span class="line">wget http://nginx.org/download/nginx-1.3.15.tar.gz</span><br><span class="line">tar -zxvf nginx-1.3.15.tar.gz</span><br><span class="line">cd nginx-1.3.15</span><br><span class="line">./configure --prefix=/usr/local/nginx --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">启动  ：  ./sbin/nginx</span><br><span class="line">指定配置文件平滑重启:    ./sbin/nginx -c conf/nginx.conf -s reload</span><br><span class="line">配置文件检测:  ./sbin/nginx -t -c conf/nginx.conf</span><br><span class="line"></span><br><span class="line">-c指定配置文件，默认使用配置文件：conf/nginx.conf</span><br></pre></td></tr></table></figure>
<h4 id="安装mongoDB"><a href="#安装mongoDB" class="headerlink" title="安装mongoDB"></a>安装mongoDB</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">Vi /etc/yum.repos.d/10gen.repo</span><br><span class="line">[10gen]</span><br><span class="line">name=10gen Repository</span><br><span class="line">baseurl=http://downloads-distro.mongodb.org/repo/redhat/os/x86_64</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line"></span><br><span class="line">yum install mongo-10gen mongo-10gen-server</span><br><span class="line"></span><br><span class="line">chown –R mongod:mongod /data</span><br><span class="line"></span><br><span class="line">service mongod start</span><br><span class="line"></span><br><span class="line">mongod</span><br><span class="line"></span><br><span class="line">&gt; db.test.save( &#123; a: 1 &#125; )</span><br><span class="line">&gt; db.test.find()</span><br><span class="line"></span><br><span class="line">2</span><br><span class="line">Wget http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.4.1.tgz</span><br><span class="line"></span><br><span class="line">启动</span><br><span class="line">/usr/local/mongodb/bin/mongod --dbpath=/data2/mongodb/data/ --logpath=/data2/mongodb/logs/mongodb.log -logappend &amp;</span><br><span class="line">关闭</span><br><span class="line">/usr/local/mongodb/bin/mongod --dbpath=/data2/mongodb/data/ --logpath=/data2/mongodb/logs/mongodb.log -logappend  --shutdown</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/command/">command</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-MySQL_SQL_Mode" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/20/MySQL_SQL_Mode/" class="article-date">
  	<time datetime="2016-12-20T02:47:20.000Z" itemprop="datePublished">2016-12-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/20/MySQL_SQL_Mode/">MySQL SQL Mode 严格模式问题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h4 id="MySQL严格模式下导致的问题"><a href="#MySQL严格模式下导致的问题" class="headerlink" title="MySQL严格模式下导致的问题"></a>MySQL严格模式下导致的问题</h4><p>在本地开发环境跑完项目，是正常OK的；把项目部署到生产环境后，发现项目能正常访问，但是在进行新增操作时，报了数据库表插入时的错误：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 1364 (HY000): Field &apos;数据库字段&apos; doesn&apos;t have a default value INSERT INTO 表</span><br></pre></td></tr></table></figure>
<p>刚开始觉得很奇怪，因为开发环境和生成环境用的MySQL、Apache都是同样的版本，很纳闷…..</p>
<p>这时去查看报错日志，找到报错那个位置的代码，没发现有什么异常，然后再回首来看报出的错，意思是说字段没有默认值，也去搜索了这方面的问题，发现是MySQL数据库配置的严格模式问题，我本地环境的MySQL开启的非严格模式，生产环境开启是严格模式，MySQL模式配置说明 <a href="http://dev.mysql.com/doc/refman/5.7/en/sql-mode.html" target="_blank" rel="external">传送门</a></p>
<p>如何开启、关闭MySQL严格模式，找到MySQL的配置文件路径</p>
<ul>
<li>linux 下 vim /etc/my.cnf</li>
<li>windows 下 安装路径的my.ini/my.cnf</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sql_mode=NO_ENGINE_SUBSTITUTION,STRICT_TRANS_TABLES 严格模式</span><br><span class="line"></span><br><span class="line">sql_mode=&quot;&quot; 非严格模式</span><br></pre></td></tr></table></figure>
<p>然后重启MySQL服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">For CentOS 7 servers:</span><br><span class="line">systemctl restart mysql</span><br><span class="line"></span><br><span class="line">For CentOS 6 and prior:</span><br><span class="line">/etc/init.d/mysql restart</span><br><span class="line"></span><br><span class="line">For Windows</span><br><span class="line">net stop MySQL   </span><br><span class="line">net start MySQL</span><br></pre></td></tr></table></figure></p>
<p>这样就解决问题了。</p>
<p>No 这样的做法是可以解决这个情况，但不是很好的做法，MySQL严格模式可以使数据更加安全严格，减少了对空数据入库。可以提高代码的质量及对数据的严谨性，所以建议在开发环境就开启严格模式，代码中在进行数据表操作时改默认的写默认，数据库表设计时要默认的写默认。</p>
<p>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE `mytable` (</span><br><span class="line"> `id` int(11) NOT NULL AUTO_INCREMENT,</span><br><span class="line"> `title` varchar(20) NOT NULL,</span><br><span class="line"> `content` text NOT NULL,</span><br><span class="line"> PRIMARY KEY (`id`)</span><br><span class="line">) ENGINE=InnoDB DEFAULT CHARSET=utf8;</span><br></pre></td></tr></table></figure></p>
<p>插入一条记录，title 的值为 NULL</p>
<p>非严格模式下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into table(content) values(&apos;value&apos;);</span><br><span class="line">Query OK, 1 row affected, 1 warning (0.00 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; select * from mytable;</span><br><span class="line">+----+------+------------+</span><br><span class="line">| id | title | content    |</span><br><span class="line">+----+------+------------+</span><br><span class="line">|  1 |       | programmer |</span><br><span class="line">+----+-------+------------+</span><br><span class="line">1 row in set (0.00 sec)</span><br></pre></td></tr></table></figure></p>
<p>严格模式下<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; insert into table(content) values(&apos;value&apos;);</span><br><span class="line">ERROR 1364 (HY000): Field &apos;title&apos; doesn&apos;t have a default value</span><br></pre></td></tr></table></figure></p>
<p>所以我最后的做法是在代码中更改了操作数据库表的SQL写上默认值。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/MySQL/">MySQL</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-linux_mysql" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/16/linux_mysql/" class="article-date">
  	<time datetime="2016-12-16T08:52:29.000Z" itemprop="datePublished">2016-12-16</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/16/linux_mysql/">Linux MySQL mysql.sock 问题</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux-使用MySQL命令的-mysql-sock-问题"><a href="#Linux-使用MySQL命令的-mysql-sock-问题" class="headerlink" title="Linux 使用MySQL命令的 mysql.sock 问题"></a>Linux 使用MySQL命令的 mysql.sock 问题</h1><p>在服务器上使用mysql命令报错：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 2002 (HY000): Can&apos;t connect to local MySQL server through socket &apos;/tmp/mysql.sock&apos; (2)</span><br></pre></td></tr></table></figure>
<p>停止、启动MySQL都是正常的，数据库也是在正常运行中。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@banana bin]# /etc/init.d/mysqld stop</span><br><span class="line"> Shutting down MySQL....                                    [  OK  ]</span><br><span class="line">[root@banana bin]# /etc/init.d/mysqld start</span><br><span class="line"> Starting MySQL/data/mysql/data</span><br><span class="line"> ..                                                         [  OK  ]</span><br><span class="line"> </span><br><span class="line">[root@banana data]# /etc/init.d/mysqld status</span><br><span class="line"> MySQL running (6557)                                       [  OK  ]</span><br></pre></td></tr></table></figure>
<p>这时想着查看一下数据库进程信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@banana bin]# ps -ef | grep mysql</span><br><span class="line">root      1973     1  0 Nov24 ?        00:00:00 /bin/sh /usr/local/mysql/bin/mysqld_safe --defaults-file=/etc/my.cnf --datadir=/data/mysql/data --pid-file=/data/mysql/data/banana.pid</span><br><span class="line">mysql     2815  1973  0 Nov24 ?        01:59:56 /usr/local/mysql/bin/mysqld --defaults-file=/etc/my.cnf --basedir=/usr/local/mysql --datadir=/data/mysql/data --plugin-dir=/usr/local/mysql/lib/plugin --user=mysql --log-error=/data_big/mysql/data/banana.err --open-files-limit=8192 --pid-file=/data_big/mysql/data/banana.pid --socket=/data/mysql/data/mysql.sock --port=3306</span><br><span class="line">root      5644  4460  0 14:05 pts/2    00:00:00 grep --color=auto mysql</span><br></pre></td></tr></table></figure></p>
<p>发现 /data/mysql/data/mysql.sock 这里存在一个 mysql.sock 文件，/etc/my.cnf这个配置文件里面 socket 也是填写的这个路径，但运行命令就是提示 /tmp/mysql.sock 不能连接，这时 cd 到 /tmp这个文件夹下面查看，的确没有mysql.sock这个文件，搜索了一下这个文件，了解到mysql.sock的作用是server和client在同一台服务器，并且使用localhost进行链接的时候，就会使用socket来进行连接——仅此而已</p>
<p>网上也有人在讨论这个 mysql.sock 文件丢失的问题， 有说 重启服务器， 重启mysql数据库， mysql.sock 会自动生成， 我试过但都木有用</p>
<p>既然tmp/下面木有这个文件， /data/mysql/data/下面有，直接建立软连接好了，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s /data/mysql/data/mysql .sock   /tmp/mysql .sock</span><br></pre></td></tr></table></figure></p>
<p>再次运行MySQL命令，就可以正常使用了。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/">MySQL</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-linux_grep" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/12/05/linux_grep/" class="article-date">
  	<time datetime="2016-12-05T09:19:19.000Z" itemprop="datePublished">2016-12-05</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/12/05/linux_grep/">Linux grep 命令</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux-grep-命令"><a href="#Linux-grep-命令" class="headerlink" title="Linux grep 命令"></a>Linux grep 命令</h1><h4 id="如果想在Linux下查找和过滤文本文件内容，那么就得用grep这个命令。最简单的用法是："><a href="#如果想在Linux下查找和过滤文本文件内容，那么就得用grep这个命令。最简单的用法是：" class="headerlink" title="如果想在Linux下查找和过滤文本文件内容，那么就得用grep这个命令。最简单的用法是："></a>如果想在Linux下查找和过滤文本文件内容，那么就得用grep这个命令。最简单的用法是：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep apple fruitlist.txt</span><br></pre></td></tr></table></figure>
<p>如果想忽略大小写，可以用-i参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -i apple fruitlist.txt</span><br></pre></td></tr></table></figure></p>
<p>如果想搜索目录里所有文件，包括子目录的话，并且在结果中显示行号，可以用以下命令：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep -nr apple *</span><br></pre></td></tr></table></figure></p>
<p>grep的语法支持正则表达式，正则表达式有些复杂，以后再讲解。下面是一些有用的参数：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-A num, --after-context=num: 在结果中同时输出匹配行之后的num行</span><br><span class="line">-B num, --before-context=num: 在结果中同时输出匹配行之前的num行，有时候我们需要显示几行上下文。</span><br><span class="line">-i, --ignore-case: 忽略大小写</span><br><span class="line">-n, --line-number: 显示行号</span><br><span class="line">-R, -r, --recursive: 递归搜索子目录</span><br><span class="line">-v, --invert-match: 输出没有匹配的行</span><br></pre></td></tr></table></figure></p>
<p>我们可以通过管道操作来让grep变得更强大，管道操作就是把前面一条命令的输出作为后面一条命令的输入，从而把很多简单的命令组合起来完成复杂的功能。</p>
<p>例如，如果我们想查找包含apple的行，但又想过滤掉pineapple，可以用下面的命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep apple fruitlist.txt | grep -v pineapple</span><br></pre></td></tr></table></figure>
<p>如果我们想把搜索结果保存起来，那么可以把命令的标准输出重定向到文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep apple fruitlist.txt | grep -v pineapple &gt; apples.txt</span><br></pre></td></tr></table></figure></p>
<p>重定向符号&gt;和管道操作符号|的区别是，重定向后面接的是一个文件，它后面不能再接任何文件或命令了；而管道操作后面接的是命令，可以无限地接下去。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/grep/">grep</a></li></ul>
	</div>

      
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2018 Haihson
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a>
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<!-- cnzz Analytics -->
<script src="https://s11.cnzz.com/z_stat.php?id=1260140011&web_id=1260140011" language="JavaScript"></script>
<!-- End cnzz Analytics -->




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>