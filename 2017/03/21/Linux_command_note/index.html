<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Linux命令大全 | Haihson&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Linux命令大全文件操作进入目录  cd  目录名1234cd  /home  	到homecd  		不带参数，到上一层目录cd - 	 	切到上一个打开目录cd ..	 	上一级目录
查看目录或文件  ls  [-alc]  [目录/文件]格式：ls [选项] [目录或文件]12341. ls /home		显示/home目录下的文件与目录（不包含隐藏文件）2. ls –a /home		显">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux命令大全">
<meta property="og:url" content="http://haihson.github.io/2017/03/21/Linux_command_note/index.html">
<meta property="og:site_name" content="Haihson's Blog">
<meta property="og:description" content="Linux命令大全文件操作进入目录  cd  目录名1234cd  /home  	到homecd  		不带参数，到上一层目录cd - 	 	切到上一个打开目录cd ..	 	上一级目录
查看目录或文件  ls  [-alc]  [目录/文件]格式：ls [选项] [目录或文件]12341. ls /home		显示/home目录下的文件与目录（不包含隐藏文件）2. ls –a /home		显">
<meta property="og:updated_time" content="2017-03-21T07:15:43.607Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux命令大全">
<meta name="twitter:description" content="Linux命令大全文件操作进入目录  cd  目录名1234cd  /home  	到homecd  		不带参数，到上一层目录cd - 	 	切到上一个打开目录cd ..	 	上一级目录
查看目录或文件  ls  [-alc]  [目录/文件]格式：ls [选项] [目录或文件]12341. ls /home		显示/home目录下的文件与目录（不包含隐藏文件）2. ls –a /home		显">
  
    <link rel="alternative" href="/atom.xml" title="Haihson&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="http://o73el5cs1.bkt.clouddn.com/7833658.jpg">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://o73el5cs1.bkt.clouddn.com/20160514114829.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Haihson</a></h1>
		</hgroup>

		
		<p class="header-subtitle">mmmmmmmmmmmm</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>主菜单</li>
						<li>云标签</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/Haihson" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="#" title="rss">rss</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/BeautifulSoup/" style="font-size: 10px;">BeautifulSoup</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 15px;">MySQL</a> <a href="/tags/Python/" style="font-size: 10px;">Python</a> <a href="/tags/System/" style="font-size: 10px;">System</a> <a href="/tags/animation/" style="font-size: 10px;">animation</a> <a href="/tags/apache/" style="font-size: 15px;">apache</a> <a href="/tags/cms/" style="font-size: 10px;">cms</a> <a href="/tags/command/" style="font-size: 15px;">command</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/grep/" style="font-size: 10px;">grep</a> <a href="/tags/html5/" style="font-size: 15px;">html5</a> <a href="/tags/input/" style="font-size: 10px;">input</a> <a href="/tags/js/" style="font-size: 10px;">js</a> <a href="/tags/php/" style="font-size: 15px;">php</a>
					</div>
				</section>
				
				
				

				
				
				<section class="switch-part switch-part3">
				
					<div id="js-aboutme">博主很懒，还没留下什么东西......</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Haihson</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://o73el5cs1.bkt.clouddn.com/20160514114829.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Haihson</h1>
			</hgroup>
			
			<p class="header-subtitle">mmmmmmmmmmmm</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/Haihson" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap"><article id="post-Linux_command_note" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/03/21/Linux_command_note/" class="article-date">
  	<time datetime="2017-03-21T07:15:19.000Z" itemprop="datePublished">2017-03-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Linux命令大全
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/command/">command</a></li></ul>
	</div>

        
	<div class="article-category tagcloud">
	<a class="article-category-link" href="/categories/Linux/">Linux</a>
	</div>


        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux命令大全"><a href="#Linux命令大全" class="headerlink" title="Linux命令大全"></a>Linux命令大全</h1><h2 id="文件操作"><a href="#文件操作" class="headerlink" title="文件操作"></a>文件操作</h2><h4 id="进入目录-cd-目录名"><a href="#进入目录-cd-目录名" class="headerlink" title="进入目录  cd  目录名"></a>进入目录  cd  目录名</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd  /home  	到home</span><br><span class="line">cd  		不带参数，到上一层目录</span><br><span class="line">cd - 	 	切到上一个打开目录</span><br><span class="line">cd ..	 	上一级目录</span><br></pre></td></tr></table></figure>
<h4 id="查看目录或文件-ls-alc-目录-文件"><a href="#查看目录或文件-ls-alc-目录-文件" class="headerlink" title="查看目录或文件  ls  [-alc]  [目录/文件]"></a>查看目录或文件  ls  [-alc]  [目录/文件]</h4><p>格式：ls [选项] [目录或文件]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1. ls /home		显示/home目录下的文件与目录（不包含隐藏文件）</span><br><span class="line">2. ls –a /home		显示/home目录下的所有文件与目录（包含隐藏文件）</span><br><span class="line">3. ls –l /home		显示/home目录下的文件与目录的详细信息</span><br><span class="line">4. ls –c /home		显示/home目录下的文件与目录,按修改时间排序</span><br></pre></td></tr></table></figure></p>
<h4 id="查看当前目录下的文件-ll-alc"><a href="#查看当前目录下的文件-ll-alc" class="headerlink" title="查看当前目录下的文件  ll  [-alc]"></a>查看当前目录下的文件  ll  [-alc]</h4><p>选项同 ls ,显示目录或文件属性  lsattr , 格式：lsattr [选项] [目录或文件]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-a 　显示所有文件和目录</span><br><span class="line">-d 　显示，目录名称，而非其内容</span><br><span class="line">-l 　此参数目前没有任何作用</span><br><span class="line">-R 　递归处理，将指定目录下的所有文件及子目录一并处理</span><br><span class="line">-v 　显示文件或目录版本</span><br><span class="line">-V 　显示版本信</span><br></pre></td></tr></table></figure></p>
<h4 id="创建文件-touch-文件名"><a href="#创建文件-touch-文件名" class="headerlink" title="创建文件    touch  文件名"></a>创建文件    touch  文件名</h4><p>格式：touch  [选项]  文件名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">范例：touch  /home/test.txt		在/home目录下创建test文件</span><br></pre></td></tr></table></figure></p>
<h4 id="删除文件-rm-fr-文件名"><a href="#删除文件-rm-fr-文件名" class="headerlink" title="删除文件 rm  [-fr]  文件名"></a>删除文件 rm  [-fr]  文件名</h4><p>格式：rm [选项] 文件名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">rm /home/test		删除/home目录下的test文件</span><br><span class="line">-d或--directory 　	直接把欲删除的目录的硬连接数据删成0，删除该目录。 </span><br><span class="line">-f或--force 　	强制删除文件或目录。 </span><br><span class="line">-i或--interactive 　	删除既有文件或目录之前先询问用户。 删除非空目录是需加入</span><br><span class="line">-r或-R或--recursive 　	递归处理，将指定目录下的所有文件及子目录一并处理。 </span><br><span class="line">-v或--verbose 　	显示指令执行过程。</span><br></pre></td></tr></table></figure></p>
<h4 id="文件操作内容"><a href="#文件操作内容" class="headerlink" title="文件操作内容"></a>文件操作内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi 文件 进入vi编辑器</span><br></pre></td></tr></table></figure>
<h4 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat  文件名  		一屏查看文件内容</span><br><span class="line">more 文件名		分页查看文件内容</span><br><span class="line">less 文件名		可控分页查看文件内容  q退出</span><br><span class="line">grep 字符 文件名 	根据字符匹配来查看文件部分内容</span><br></pre></td></tr></table></figure>
<h4 id="创建目录-mkdir-目录名"><a href="#创建目录-mkdir-目录名" class="headerlink" title="创建目录 mkdir  目录名"></a>创建目录 mkdir  目录名</h4><p>格式：mkdir [选项] 目录名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">范例：</span><br><span class="line">1. mkdir /home/workdir    在/home目录下创建workdir目录</span><br><span class="line">2. mkdir –p /home/dir1/dir2   -p指令,如果dir1不存在，先创建dir1</span><br></pre></td></tr></table></figure></p>
<h4 id="修改目录或文件-名-后缀-rename-或-mv"><a href="#修改目录或文件-名-后缀-rename-或-mv" class="headerlink" title="修改目录或文件[名/后缀]  rename  或  mv"></a>修改目录或文件[名/后缀]  rename  或  mv</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1.mv aaa.txt bbb.txt  修改单个文件名，把aaa.txt改为bbb.txt</span><br><span class="line">2.rename a.txt b.txt *  修改单个文件</span><br><span class="line">3.rename 批量命名  把test.tar.gz  修改为backup.tar.gz</span><br><span class="line">#  rename  test  backup  *.tar.gz</span><br><span class="line">把200个.html后缀的文件修改为.htm后缀</span><br><span class="line">#  rename  .html  .htm  *      或者   rename  html  htm  *.html</span><br></pre></td></tr></table></figure>
<h4 id="删除目录-rmdir-目录名"><a href="#删除目录-rmdir-目录名" class="headerlink" title="删除目录 rmdir  目录名"></a>删除目录 rmdir  目录名</h4><p>格式：rmdir [选项] 目录名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rmdir /home/workdir   删除/home目录下workdir目录</span><br><span class="line">rmdir不能删除非空目录，删除非空目录使用rm 目录名 -r</span><br></pre></td></tr></table></figure></p>
<h4 id="复制文件或目录-cp-源文件-新目录"><a href="#复制文件或目录-cp-源文件-新目录" class="headerlink" title="复制文件或目录 cp  源文件 新目录"></a>复制文件或目录 cp  源文件 新目录</h4><p>格式：cp [选项] 源文件或目录目标文件或目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1. cp /home/test /tmp/		将/home目录下的test文件copy到/tmp目录下</span><br><span class="line">2. cp –r /home/dir1 /tmp/	将/home目录下的dir1目录copy到/tmp目录下</span><br></pre></td></tr></table></figure></p>
<h4 id="移动文件或目录-mv-源文件-目标目录"><a href="#移动文件或目录-mv-源文件-目标目录" class="headerlink" title="移动文件或目录 mv 源文件 目标目录"></a>移动文件或目录 mv 源文件 目标目录</h4><p>格式：mv [选项] 源文件或目录目标文件或目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.mv /home/test /home/test1 将/home目录下的test文件更名为test1</span><br><span class="line">2.mv /home/dir1 /tmp/		将/home目录下dir1目录移动（剪切）到/tmp目录下</span><br></pre></td></tr></table></figure></p>
<h4 id="文件打包-tar-cf-目录-文件"><a href="#文件打包-tar-cf-目录-文件" class="headerlink" title="文件打包  tar  [-cf]  [目录/文件]"></a>文件打包  tar  [-cf]  [目录/文件]</h4><p>格式：tar [选项] 文件或目录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">tar -cf all.tar *.jpg</span><br><span class="line">	将所有.jpg的文件打成一个名为all.tar的包。-c是表示产生新的包，-f指定包的文件名</span><br><span class="line">tar -rf all.tar *.gif</span><br><span class="line">　　将所有.gif的文件增加到all.tar的包里面去。-r是表示增加文件的意思</span><br><span class="line">tar -uf all.tar logo.gif</span><br><span class="line">	更新原来tar包all.tar中logo.gif文件，-u是表示更新文件的意思</span><br><span class="line">tar -tf all.tar</span><br><span class="line">	列出all.tar包中所有文件，-t是列出文件的意思</span><br><span class="line">tar -xf all.tar</span><br><span class="line">解出all.tar包中所有文件，-x是解开的意思</span><br><span class="line">-c 建立新的归档文件</span><br><span class="line">-r 向归档文件末尾追加文件</span><br><span class="line">-u 更新文件包里的文件</span><br><span class="line">-t 查看文件包文件</span><br><span class="line">-x 从归档文件中解出文件</span><br><span class="line">-O 将文件解开到标准输出</span><br><span class="line">-v 处理过程中输出相关信息</span><br><span class="line">-f 对普通文件操作</span><br><span class="line">-z 调用gzip来压缩归档文件，与-x联用时调用gzip完成解压缩</span><br><span class="line">-Z 调用compress来压缩归档文件，与-x联用时调用compress完成解压缩</span><br></pre></td></tr></table></figure></p>
<h4 id="gzip压缩"><a href="#gzip压缩" class="headerlink" title="gzip压缩"></a>gzip压缩</h4><p>格式：gzip 选项 文件目录列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-c 压缩结果写入标准输出，原文件保持不变。缺省时gzip将原文件压缩为.gz文件，并删除原文件。</span><br><span class="line">-v 输出处理信息。</span><br><span class="line">-d 解压缩指定文件。</span><br><span class="line">-t 测试压缩文件的完整性。</span><br></pre></td></tr></table></figure></p>
<h4 id="gunzip解压缩"><a href="#gunzip解压缩" class="headerlink" title="gunzip解压缩"></a>gunzip解压缩</h4><p>格式：gzip 选项 文件目录列表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-c 将输出写入标准输出，原文件保持不变。缺省时，gunzip将压缩文件变成解压缩文件。</span><br><span class="line">-l 列出压缩文件中的文件而不解压缩。</span><br><span class="line">-r 递归解压缩，深入目录结构中，解压缩命令行变元所指定目录中的所有子目录内的文件。</span><br></pre></td></tr></table></figure></p>
<h4 id="find查找"><a href="#find查找" class="headerlink" title="find查找"></a>find查找</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find -name &apos;.?*.out.*&apos; 查找所有以 “.out.”  为名的文件</span><br></pre></td></tr></table></figure>
<h4 id="远程复制文件"><a href="#远程复制文件" class="headerlink" title="远程复制文件"></a>远程复制文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp -rv -P22 要复制的文件 root@121.14.195.190:/home</span><br><span class="line">跨机器复制 执行： source /home/2013041511.txt</span><br></pre></td></tr></table></figure>
<h2 id="系统监控"><a href="#系统监控" class="headerlink" title="系统监控"></a>系统监控</h2><h4 id="查看系统参数"><a href="#查看系统参数" class="headerlink" title="查看系统参数"></a>查看系统参数</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">查看CPU核数 cat /proc/cpuinfo | grep &quot;cpu cores&quot; | uniq</span><br><span class="line">查看CPU型号 cat /proc/cpuinfo | grep &apos;model name&apos; |uniq</span><br><span class="line">查看内存总数 	cat /proc/meminfo | grep MemTotal</span><br><span class="line">查看硬盘大小 	fdisk -l | grep Disk</span><br></pre></td></tr></table></figure>
<h4 id="进程和端口"><a href="#进程和端口" class="headerlink" title="进程和端口"></a>进程和端口</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">查看所有的进程和端口使用情况：</span><br><span class="line">netstat –apn  or  netstat -tnl</span><br><span class="line"></span><br><span class="line">查看端口被占用情况：</span><br><span class="line">netstat –apn grep 8080 </span><br><span class="line"></span><br><span class="line">端口并发连接：</span><br><span class="line">netstat -n | grep 80 | awk &apos;/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;&apos;</span><br><span class="line"></span><br><span class="line">查看Tomcat进程：</span><br><span class="line">ps -aux | grep tomcat </span><br><span class="line"></span><br><span class="line">查看nginx并发（连接数）进程数：</span><br><span class="line">ps -ef|grep nginx |wc -l  </span><br><span class="line"></span><br><span class="line">查看当网络连接状态中，已建立连接的数量：</span><br><span class="line">netstat -na|grep ESTABLISHED|wc -l  </span><br><span class="line"></span><br><span class="line">查看系统tcp连接中各个状态的连接数</span><br><span class="line">netstat -an | awk &apos;/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;&apos;</span><br><span class="line"></span><br><span class="line">输出每个ip的连接数，以及总的各个状态的连接数。</span><br><span class="line">netstat -n | awk &apos;/^tcp/ &#123;n=split($(NF-1),array,&quot;:&quot;);if(n&lt;=2)++S[array[(1)]];else++S[array[(4)]];++s[$NF];++N&#125; END &#123;for(a in S)&#123;printf(&quot;%-20s %s\n&quot;, a, S[a]);++I&#125;printf(&quot;%-20s %s\n&quot;,&quot;TOTAL_IP&quot;,I);for(a in s) printf(&quot;%-20s %s\n&quot;,a, s[a]);printf(&quot;%-20s %s\n&quot;,&quot;TOTAL_LINK&quot;,N);&#125;&apos;</span><br></pre></td></tr></table></figure>
<h4 id="磁盘管理"><a href="#磁盘管理" class="headerlink" title="磁盘管理"></a>磁盘管理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df -hl 查看磁盘使用情况 </span><br><span class="line">df -hl 查看磁盘剩余空间</span><br><span class="line">df -h 查看每个根路径的分区大小</span><br><span class="line">du -sh [目录名] 返回该目录的大小</span><br><span class="line">du -sm [文件夹] 返回该文件夹总M数</span><br><span class="line">find [文件夹] -type f -print |wc -l    查询目录下的文件数量</span><br></pre></td></tr></table></figure>
<h4 id="文件权限控制"><a href="#文件权限控制" class="headerlink" title="文件权限控制"></a>文件权限控制</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">加权限：</span><br><span class="line">chmod +x tomcat.sh  【-x 表示禁用权限】</span><br><span class="line">chown -R cmge:cmge cmge.zip  【文件权限】</span><br></pre></td></tr></table></figure>
<h2 id="系统配置"><a href="#系统配置" class="headerlink" title="系统配置"></a>系统配置</h2><h4 id="IP配置"><a href="#IP配置" class="headerlink" title="IP配置"></a>IP配置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">一般在这个目录下：/etc/sysconfig/network-scripts</span><br><span class="line">通常是：</span><br><span class="line">ifcfg-eth0  网口1</span><br><span class="line">ifcfg-eth1  网口2</span><br><span class="line"></span><br><span class="line">DELL的是：</span><br><span class="line">ifcfg-em1   网口1</span><br><span class="line">ifcfg-em2   网口2</span><br><span class="line">重启网卡: service network restart</span><br><span class="line"></span><br><span class="line">如果ping不通域名</span><br><span class="line">在/etc/resolv.conf</span><br><span class="line">配置nameserver 202.96.128.86 </span><br><span class="line"></span><br><span class="line">特别注意：ONBOOT=&quot;yes&quot;   启动自动连接网络</span><br></pre></td></tr></table></figure>
<h4 id="ssh登录编码设置"><a href="#ssh登录编码设置" class="headerlink" title="ssh登录编码设置"></a>ssh登录编码设置</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/i18n  打开文件，输入以下内容</span><br><span class="line">--------------------------------------------------------</span><br><span class="line">LANG=&quot;zh_CN.GB18030&quot;</span><br><span class="line">LANGUAGE=&quot;zh_CN.GB18030:zh_CN.GB2312:zh_CN:zh_CN.UTF-8&quot;</span><br><span class="line">SUPPORTED=&quot;zh_CN.UTF-8:zh_CN:zh&quot;</span><br><span class="line">SYSFONT=&quot;lat0-sun16&quot;</span><br><span class="line">SYSFONTACM=&quot;GB18030&quot;</span><br><span class="line">--------------------------------------------------------</span><br></pre></td></tr></table></figure>
<h4 id="编辑快捷命令-环境变量"><a href="#编辑快捷命令-环境变量" class="headerlink" title="编辑快捷命令(环境变量)"></a>编辑快捷命令(环境变量)</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">快捷命令存放文件: ~/.bashrc</span><br><span class="line">~表示当前的用户主目录</span><br><span class="line">增加快捷命令: alias 命令，例如：alias  home=’cd /home’</span><br><span class="line"></span><br><span class="line">查看快捷命令: alias</span><br><span class="line"></span><br><span class="line">每次修改.bashrc后，使用source ~/.bashrc（或者 . ~/.bashrc）</span><br></pre></td></tr></table></figure>
<h4 id="Linux安全"><a href="#Linux安全" class="headerlink" title="Linux安全"></a>Linux安全</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ssh   配置文件：/etc/ssh/sshd_config</span><br><span class="line">1、禁止root远程登录 PermitRootLogin no</span><br><span class="line">2、更改ssh默认端口  Port 2002</span><br><span class="line">3、重启: service sshd restart</span><br><span class="line"></span><br><span class="line">iptables   防火墙</span><br><span class="line">Vi  /etc/sysconfig/iptables</span><br><span class="line">修改后台重启</span><br></pre></td></tr></table></figure>
<h4 id="最大文件打开数限制"><a href="#最大文件打开数限制" class="headerlink" title="最大文件打开数限制"></a>最大文件打开数限制</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在系统文件/etc/security/limits.conf中修改这个数量限制，</span><br><span class="line">永久设置：在文件最后加入内容：</span><br><span class="line">* soft nofile 65536 </span><br><span class="line">* hard nofile 65536</span><br><span class="line">临时设置：ulimit -n 2000</span><br></pre></td></tr></table></figure>
<h4 id="同步网络时间"><a href="#同步网络时间" class="headerlink" title="同步网络时间"></a>同步网络时间</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">直接运行 ntpdate pool.ntp.org</span><br><span class="line"></span><br><span class="line">定时器方式</span><br><span class="line">crontab -e  编辑定时器</span><br><span class="line">01 23 * * * ntpdate pool.ntp.org</span><br><span class="line"></span><br><span class="line">crontab -l	  查看定时器</span><br><span class="line">*/1 * * * * /bin/sh /usr/local/sbin/changerOwer.sh    定时执行脚本</span><br></pre></td></tr></table></figure>
<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><h4 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">useradd -d 登入目录 -m 用户名</span><br><span class="line">例如：useradd  -d /home/admin -m admin</span><br><span class="line">-m 表示自动创建目录</span><br></pre></td></tr></table></figure>
<h4 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">userdel -f 用户名</span><br><span class="line">例如：userdel -f admin</span><br><span class="line">-f 表示同时删除用户目录</span><br></pre></td></tr></table></figure>
<h4 id="设置口令密码"><a href="#设置口令密码" class="headerlink" title="设置口令密码"></a>设置口令密码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">passwd -u 用户  或 passwd 用户</span><br><span class="line">会提示两次输入密码</span><br></pre></td></tr></table></figure>
<h2 id="Linux安装软件"><a href="#Linux安装软件" class="headerlink" title="Linux安装软件"></a>Linux安装软件</h2><h4 id="安装memcache"><a href="#安装memcache" class="headerlink" title="安装memcache"></a>安装memcache</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">下载libevent:  wget </span><br><span class="line">https://github.com/downloads/libevent/libevent/libevent-2.0.21-stable.tar.gz  </span><br><span class="line"></span><br><span class="line">tar zxf libevent-2.0.21-stable.tar.gz</span><br><span class="line">cd libevent-2.0.21-stable</span><br><span class="line">./configure --prefix=/usr/local/libevent</span><br><span class="line">make &amp;&amp; make install </span><br><span class="line"></span><br><span class="line">wget http://memcached.googlecode.com/files/memcached-1.4.15.tar.gz</span><br><span class="line">tar zxf memcached-1.4.15.tar.gz</span><br><span class="line">cd memcached-1.4.15</span><br><span class="line">./configure --prefix=/usr/local/memcached --with-libevent=/usr/local/libevent </span><br><span class="line">make </span><br><span class="line">make install</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">启动：</span><br><span class="line">-l 192.168.1.3 固定访问IP</span><br><span class="line">-m 1024 最大分配1G内存</span><br><span class="line">/usr/local/memcached/bin/memcached -u root -p 11211 -d -m 1024 -t 5 -f 1.25</span><br><span class="line">telnet 127.0.0.1 11211</span><br><span class="line">stats</span><br><span class="line">能连接上说明安装成功</span><br></pre></td></tr></table></figure>
<h4 id="安装nginx"><a href="#安装nginx" class="headerlink" title="安装nginx"></a>安装nginx</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">检查是否安装下列库：zlib zlib-devel openssl openssl-devel pcre pcre-devel gcc</span><br><span class="line">yum install zlib zlib-devel openssl openssl-devel pcre pcre-devel</span><br><span class="line">wget http://nginx.org/download/nginx-1.3.15.tar.gz</span><br><span class="line">tar -zxvf nginx-1.3.15.tar.gz</span><br><span class="line">cd nginx-1.3.15</span><br><span class="line">./configure --prefix=/usr/local/nginx --with-http_ssl_module --with-http_sub_module --with-http_stub_status_module</span><br><span class="line">make &amp;&amp; make install</span><br><span class="line"></span><br><span class="line">启动  ：  ./sbin/nginx</span><br><span class="line">指定配置文件平滑重启:    ./sbin/nginx -c conf/nginx.conf -s reload</span><br><span class="line">配置文件检测:  ./sbin/nginx -t -c conf/nginx.conf</span><br><span class="line"></span><br><span class="line">-c指定配置文件，默认使用配置文件：conf/nginx.conf</span><br></pre></td></tr></table></figure>
<h4 id="安装mongoDB"><a href="#安装mongoDB" class="headerlink" title="安装mongoDB"></a>安装mongoDB</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">Vi /etc/yum.repos.d/10gen.repo</span><br><span class="line">[10gen]</span><br><span class="line">name=10gen Repository</span><br><span class="line">baseurl=http://downloads-distro.mongodb.org/repo/redhat/os/x86_64</span><br><span class="line">gpgcheck=0</span><br><span class="line">enabled=1</span><br><span class="line"></span><br><span class="line">yum install mongo-10gen mongo-10gen-server</span><br><span class="line"></span><br><span class="line">chown –R mongod:mongod /data</span><br><span class="line"></span><br><span class="line">service mongod start</span><br><span class="line"></span><br><span class="line">mongod</span><br><span class="line"></span><br><span class="line">&gt; db.test.save( &#123; a: 1 &#125; )</span><br><span class="line">&gt; db.test.find()</span><br><span class="line"></span><br><span class="line">2</span><br><span class="line">Wget http://fastdl.mongodb.org/linux/mongodb-linux-x86_64-2.4.1.tgz</span><br><span class="line"></span><br><span class="line">启动</span><br><span class="line">/usr/local/mongodb/bin/mongod --dbpath=/data2/mongodb/data/ --logpath=/data2/mongodb/logs/mongodb.log -logappend &amp;</span><br><span class="line">关闭</span><br><span class="line">/usr/local/mongodb/bin/mongod --dbpath=/data2/mongodb/data/ --logpath=/data2/mongodb/logs/mongodb.log -logappend  --shutdown</span><br></pre></td></tr></table></figure>

      
    </div>
    
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/03/24/Git_command_note/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          Git命令使用
        
      </div>
    </a>
  
  
    <a href="/2016/12/20/MySQL_SQL_Mode/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">MySQL SQL Mode 严格模式问题</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>








<section id="comments">
  <div id="disqus_thread"></div>
    <script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'mmmmblog'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>

</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2017 Haihson
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a>
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<!-- cnzz Analytics -->
<script src="https://s11.cnzz.com/z_stat.php?id=1260140011&web_id=1260140011" language="JavaScript"></script>
<!-- End cnzz Analytics -->




<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>